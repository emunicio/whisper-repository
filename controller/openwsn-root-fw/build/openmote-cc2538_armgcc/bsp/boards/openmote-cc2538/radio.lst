   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"radio.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.rodata
  20              		.align	2
  23              	rreg_uriquery:
  24 0000 683D7563 		.ascii	"h=ucb\000"
  24      6200
  25 0006 0000     		.align	2
  28              	infoBoardname:
  29 0008 43433235 		.ascii	"CC2538\000"
  29      333800
  30 000f 00       		.align	2
  33              	infouCName:
  34 0010 43433235 		.ascii	"CC2538\000"
  34      333800
  35 0017 00       		.align	2
  38              	infoRadioName:
  39 0018 43433235 		.ascii	"CC2538 SoC\000"
  39      33382053 
  39      6F4300
  40              		.comm	radio_vars,12,4
  41              		.text
  42              		.align	2
  43              		.global	radio_init
  44              		.thumb
  45              		.thumb_func
  47              	radio_init:
  48              	.LFB1:
  49              		.file 1 "build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c"
   1:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** /**
   2:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****  * Author: Xavier Vilajosana (xvilajosana@eecs.berkeley.edu)
   3:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****  *         Pere Tuset (peretuset@openmote.com)
   4:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****  * Date:   July 2013
   5:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****  * Description: CC2538-specific definition of the "radio" bsp module.
   6:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****  */
   7:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
   8:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include <stdio.h>
   9:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include <string.h>
  10:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  11:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include <headers/hw_ana_regs.h>
  12:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include <headers/hw_ints.h>
  13:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include <headers/hw_rfcore_sfr.h>
  14:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include <headers/hw_rfcore_sfr.h>
  15:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include <headers/hw_rfcore_xreg.h>
  16:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include <headers/hw_types.h>
  17:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  18:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include <source/interrupt.h>
  19:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include <source/sys_ctrl.h>
  20:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  21:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include "board.h"
  22:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include "cc2538rf.h"
  23:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include "debugpins.h"
  24:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include "leds.h"
  25:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include "radio.h"
  26:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #include "sctimer.h"
  27:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  28:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** //=========================== defines =========================================
  29:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  30:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** /* Bit Masks for the last byte in the RX FIFO */
  31:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #define CRC_BIT_MASK 0x80
  32:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #define LQI_BIT_MASK 0x7F
  33:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  34:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** /* RSSI Offset */
  35:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #define RSSI_OFFSET 73
  36:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** #define CHECKSUM_LEN 2
  37:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  38:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** //=========================== variables =======================================
  39:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  40:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** typedef struct {
  41:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_capture_cbt         startFrame_cb;
  42:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_capture_cbt         endFrame_cb;
  43:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_state_t             state; 
  44:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** } radio_vars_t;
  45:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  46:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** radio_vars_t radio_vars;
  47:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  48:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** //=========================== prototypes ======================================
  49:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  50:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void     enable_radio_interrupts(void);
  51:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void     disable_radio_interrupts(void);
  52:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  53:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void     radio_on(void);
  54:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void     radio_off(void);
  55:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  56:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void     radio_error_isr(void);
  57:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void     radio_isr_internal(void);
  58:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  59:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** //=========================== public ==========================================
  60:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  61:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** //===== admin
  62:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
  63:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_init() {
  50              		.loc 1 63 0
  51              		.cfi_startproc
  52              		@ args = 0, pretend = 0, frame = 0
  53              		@ frame_needed = 1, uses_anonymous_args = 0
  54 0000 80B5     		push	{r7, lr}
  55              		.cfi_def_cfa_offset 8
  56              		.cfi_offset 7, -8
  57              		.cfi_offset 14, -4
  58 0002 00AF     		add	r7, sp, #0
  59              		.cfi_def_cfa_register 7
  64:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
  65:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // clear variables
  66:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    memset(&radio_vars,0,sizeof(radio_vars_t));
  60              		.loc 1 66 0
  61 0004 0C22     		movs	r2, #12
  62 0006 0021     		movs	r1, #0
  63 0008 3548     		ldr	r0, .L2
  64 000a FFF7FEFF 		bl	memset
  67:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
  68:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
  69:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state          = RADIOSTATE_STOPPED;
  65              		.loc 1 69 0
  66 000e 344B     		ldr	r3, .L2
  67 0010 0022     		movs	r2, #0
  68 0012 1A72     		strb	r2, [r3, #8]
  70:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //flush fifos
  71:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    CC2538_RF_CSP_ISFLUSHRX();
  69              		.loc 1 71 0
  70 0014 334B     		ldr	r3, .L2+4
  71 0016 ED22     		movs	r2, #237
  72 0018 1A60     		str	r2, [r3]
  73 001a 324B     		ldr	r3, .L2+4
  74 001c ED22     		movs	r2, #237
  75 001e 1A60     		str	r2, [r3]
  72:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    CC2538_RF_CSP_ISFLUSHTX();
  76              		.loc 1 72 0
  77 0020 304B     		ldr	r3, .L2+4
  78 0022 EE22     		movs	r2, #238
  79 0024 1A60     		str	r2, [r3]
  80 0026 2F4B     		ldr	r3, .L2+4
  81 0028 EE22     		movs	r2, #238
  82 002a 1A60     		str	r2, [r3]
  73:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
  74:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_off();
  83              		.loc 1 74 0
  84 002c FFF7FEFF 		bl	radio_off
  75:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
  76:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //disable radio interrupts
  77:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    disable_radio_interrupts();
  85              		.loc 1 77 0
  86 0030 FFF7FEFF 		bl	disable_radio_interrupts
  78:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
  79:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /*
  80:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    This CORR_THR value should be changed to 0x14 before attempting RX. Testing has shown that
  81:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    too many false frames are received if the reset value is used. Make it more likely to detect
  82:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    sync by removing the requirement that both symbols in the SFD must have a correlation value
  83:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    above the correlation threshold, and make sync word detection less likely by raising the
  84:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    correlation threshold.
  85:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    */
  86:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_MDMCTRL1)    = 0x14;
  87              		.loc 1 86 0
  88 0034 2C4B     		ldr	r3, .L2+8
  89 0036 1422     		movs	r2, #20
  90 0038 1A60     		str	r2, [r3]
  87:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* tuning adjustments for optimal radio performance; details available in datasheet */
  88:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
  89:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_RXCTRL)      = 0x3F;
  91              		.loc 1 89 0
  92 003a 2C4B     		ldr	r3, .L2+12
  93 003c 3F22     		movs	r2, #63
  94 003e 1A60     		str	r2, [r3]
  90:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Adjust current in synthesizer; details available in datasheet. */
  91:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_FSCTRL)      = 0x55;
  95              		.loc 1 91 0
  96 0040 2B4B     		ldr	r3, .L2+16
  97 0042 5522     		movs	r2, #85
  98 0044 1A60     		str	r2, [r3]
  92:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
  93:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****      /* Makes sync word detection less likely by requiring two zero symbols before the sync word.
  94:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       * details available in datasheet.
  95:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       */
  96:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_MDMCTRL0)    = 0x85;
  99              		.loc 1 96 0
 100 0046 2B4B     		ldr	r3, .L2+20
 101 0048 8522     		movs	r2, #133
 102 004a 1A60     		str	r2, [r3]
  97:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
  98:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Adjust current in VCO; details available in datasheet. */
  99:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_FSCAL1)      = 0x01;
 103              		.loc 1 99 0
 104 004c 2A4B     		ldr	r3, .L2+24
 105 004e 0122     		movs	r2, #1
 106 0050 1A60     		str	r2, [r3]
 100:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Adjust target value for AGC control loop; details available in datasheet. */
 101:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_AGCCTRL1)    = 0x15;
 107              		.loc 1 101 0
 108 0052 2A4B     		ldr	r3, .L2+28
 109 0054 1522     		movs	r2, #21
 110 0056 1A60     		str	r2, [r3]
 102:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 103:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Tune ADC performance, details available in datasheet. */
 104:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_ADCTEST0)    = 0x10;
 111              		.loc 1 104 0
 112 0058 294B     		ldr	r3, .L2+32
 113 005a 1022     		movs	r2, #16
 114 005c 1A60     		str	r2, [r3]
 105:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_ADCTEST1)    = 0x0E;
 115              		.loc 1 105 0
 116 005e 294B     		ldr	r3, .L2+36
 117 0060 0E22     		movs	r2, #14
 118 0062 1A60     		str	r2, [r3]
 106:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_ADCTEST2)    = 0x03;
 119              		.loc 1 106 0
 120 0064 284B     		ldr	r3, .L2+40
 121 0066 0322     		movs	r2, #3
 122 0068 1A60     		str	r2, [r3]
 107:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 108:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //update CCA register to -81db as indicated by manual.. won't be used..
 109:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_CCACTRL0)    = 0xF8;
 123              		.loc 1 109 0
 124 006a 284B     		ldr	r3, .L2+44
 125 006c F822     		movs	r2, #248
 126 006e 1A60     		str	r2, [r3]
 110:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /*
 111:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****     * Changes from default values
 112:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****     * See User Guide, section "Register Settings Update"
 113:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****     */
 114:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_TXFILTCFG)   = 0x09;    /** TX anti-aliasing filter bandwidth */
 127              		.loc 1 114 0
 128 0070 274B     		ldr	r3, .L2+48
 129 0072 0922     		movs	r2, #9
 130 0074 1A60     		str	r2, [r3]
 115:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_AGCCTRL1)    = 0x15;     /** AGC target value */
 131              		.loc 1 115 0
 132 0076 214B     		ldr	r3, .L2+28
 133 0078 1522     		movs	r2, #21
 134 007a 1A60     		str	r2, [r3]
 116:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(ANA_REGS_O_IVCTRL)       = 0x0B;        /** Bias currents */
 135              		.loc 1 116 0
 136 007c 0423     		movs	r3, #4
 137 007e 0B22     		movs	r2, #11
 138 0080 1A60     		str	r2, [r3]
 117:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 118:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* disable the CSPT register compare function */
 119:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_CSPT)        = 0xFFUL;
 139              		.loc 1 119 0
 140 0082 244B     		ldr	r3, .L2+52
 141 0084 FF22     		movs	r2, #255
 142 0086 1A60     		str	r2, [r3]
 120:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /*
 121:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****     * Defaults:
 122:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****     * Auto CRC; Append RSSI, CRC-OK and Corr. Val.; CRC calculation;
 123:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****     * RX and TX modes with FIFOs
 124:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****     */
 125:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_FRMCTRL0)    = RFCORE_XREG_FRMCTRL0_AUTOCRC;
 143              		.loc 1 125 0
 144 0088 234B     		ldr	r3, .L2+56
 145 008a 4022     		movs	r2, #64
 146 008c 1A60     		str	r2, [r3]
 126:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 127:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //poipoi disable frame filtering by now.. sniffer mode.
 128:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_FRMFILT0)   &= ~RFCORE_XREG_FRMFILT0_FRAME_FILTER_EN;
 147              		.loc 1 128 0
 148 008e 234A     		ldr	r2, .L2+60
 149 0090 224B     		ldr	r3, .L2+60
 150 0092 1B68     		ldr	r3, [r3]
 151 0094 23F00103 		bic	r3, r3, #1
 152 0098 1360     		str	r3, [r2]
 129:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 130:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Disable source address matching and autopend */
 131:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_SRCMATCH)    = 0;
 153              		.loc 1 131 0
 154 009a 214B     		ldr	r3, .L2+64
 155 009c 0022     		movs	r2, #0
 156 009e 1A60     		str	r2, [r3]
 132:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 133:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* MAX FIFOP threshold */
 134:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_FIFOPCTRL)   = CC2538_RF_MAX_PACKET_LEN;
 157              		.loc 1 134 0
 158 00a0 204B     		ldr	r3, .L2+68
 159 00a2 7F22     		movs	r2, #127
 160 00a4 1A60     		str	r2, [r3]
 135:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 136:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_TXPOWER)     = CC2538_RF_TX_POWER;
 161              		.loc 1 136 0
 162 00a6 204B     		ldr	r3, .L2+72
 163 00a8 D522     		movs	r2, #213
 164 00aa 1A60     		str	r2, [r3]
 137:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_FREQCTRL)    = CC2538_RF_CHANNEL_MIN;
 165              		.loc 1 137 0
 166 00ac 1F4B     		ldr	r3, .L2+76
 167 00ae 0B22     		movs	r2, #11
 168 00b0 1A60     		str	r2, [r3]
 138:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 139:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Enable RF interrupts  see page 751  */
 140:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // enable_radio_interrupts();
 141:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 142:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //register interrupt
 143:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    IntRegister(INT_RFCORERTX, radio_isr_internal);
 169              		.loc 1 143 0
 170 00b2 1F49     		ldr	r1, .L2+80
 171 00b4 9D20     		movs	r0, #157
 172 00b6 FFF7FEFF 		bl	IntRegister
 144:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    IntRegister(INT_RFCOREERR, radio_error_isr);
 173              		.loc 1 144 0
 174 00ba 1E49     		ldr	r1, .L2+84
 175 00bc 9E20     		movs	r0, #158
 176 00be FFF7FEFF 		bl	IntRegister
 145:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 146:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    IntEnable(INT_RFCORERTX);
 177              		.loc 1 146 0
 178 00c2 9D20     		movs	r0, #157
 179 00c4 FFF7FEFF 		bl	IntEnable
 147:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 148:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Enable all RF Error interrupts */
 149:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_RFERRM)      = RFCORE_XREG_RFERRM_RFERRM_M; //all errors
 180              		.loc 1 149 0
 181 00c8 1B4B     		ldr	r3, .L2+88
 182 00ca 7F22     		movs	r2, #127
 183 00cc 1A60     		str	r2, [r3]
 150:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    IntEnable(INT_RFCOREERR);
 184              		.loc 1 150 0
 185 00ce 9E20     		movs	r0, #158
 186 00d0 FFF7FEFF 		bl	IntEnable
 151:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //radio_on();
 152:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 153:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
 154:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state               = RADIOSTATE_RFOFF;
 187              		.loc 1 154 0
 188 00d4 024B     		ldr	r3, .L2
 189 00d6 0122     		movs	r2, #1
 190 00d8 1A72     		strb	r2, [r3, #8]
 155:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 191              		.loc 1 155 0
 192 00da 00BF     		nop
 193 00dc 80BD     		pop	{r7, pc}
 194              	.L3:
 195 00de 00BF     		.align	2
 196              	.L2:
 197 00e0 00000000 		.word	radio_vars
 198 00e4 38880840 		.word	1074300984
 199 00e8 A4860840 		.word	1074300580
 200 00ec AC860840 		.word	1074300588
 201 00f0 B0860840 		.word	1074300592
 202 00f4 A0860840 		.word	1074300576
 203 00f8 B8860840 		.word	1074300600
 204 00fc C8860840 		.word	1074300616
 205 0100 D4860840 		.word	1074300628
 206 0104 D8860840 		.word	1074300632
 207 0108 DC860840 		.word	1074300636
 208 010c 58860840 		.word	1074300504
 209 0110 E8870840 		.word	1074300904
 210 0114 94870840 		.word	1074300820
 211 0118 24860840 		.word	1074300452
 212 011c 00860840 		.word	1074300416
 213 0120 08860840 		.word	1074300424
 214 0124 50860840 		.word	1074300496
 215 0128 40860840 		.word	1074300480
 216 012c 3C860840 		.word	1074300476
 217 0130 00000000 		.word	radio_isr_internal
 218 0134 00000000 		.word	radio_error_isr
 219 0138 94860840 		.word	1074300564
 220              		.cfi_endproc
 221              	.LFE1:
 223              		.align	2
 224              		.global	radio_setStartFrameCb
 225              		.thumb
 226              		.thumb_func
 228              	radio_setStartFrameCb:
 229              	.LFB2:
 156:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 157:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_setStartFrameCb(radio_capture_cbt cb) {
 230              		.loc 1 157 0
 231              		.cfi_startproc
 232              		@ args = 0, pretend = 0, frame = 8
 233              		@ frame_needed = 1, uses_anonymous_args = 0
 234              		@ link register save eliminated.
 235 013c 80B4     		push	{r7}
 236              		.cfi_def_cfa_offset 4
 237              		.cfi_offset 7, -4
 238 013e 83B0     		sub	sp, sp, #12
 239              		.cfi_def_cfa_offset 16
 240 0140 00AF     		add	r7, sp, #0
 241              		.cfi_def_cfa_register 7
 242 0142 7860     		str	r0, [r7, #4]
 158:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.startFrame_cb  = cb;
 243              		.loc 1 158 0
 244 0144 034A     		ldr	r2, .L5
 245 0146 7B68     		ldr	r3, [r7, #4]
 246 0148 1360     		str	r3, [r2]
 159:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 247              		.loc 1 159 0
 248 014a 00BF     		nop
 249 014c 0C37     		adds	r7, r7, #12
 250              		.cfi_def_cfa_offset 4
 251 014e BD46     		mov	sp, r7
 252              		.cfi_def_cfa_register 13
 253              		@ sp needed
 254 0150 80BC     		pop	{r7}
 255              		.cfi_restore 7
 256              		.cfi_def_cfa_offset 0
 257 0152 7047     		bx	lr
 258              	.L6:
 259              		.align	2
 260              	.L5:
 261 0154 00000000 		.word	radio_vars
 262              		.cfi_endproc
 263              	.LFE2:
 265              		.align	2
 266              		.global	radio_setEndFrameCb
 267              		.thumb
 268              		.thumb_func
 270              	radio_setEndFrameCb:
 271              	.LFB3:
 160:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 161:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_setEndFrameCb(radio_capture_cbt cb) {
 272              		.loc 1 161 0
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 8
 275              		@ frame_needed = 1, uses_anonymous_args = 0
 276              		@ link register save eliminated.
 277 0158 80B4     		push	{r7}
 278              		.cfi_def_cfa_offset 4
 279              		.cfi_offset 7, -4
 280 015a 83B0     		sub	sp, sp, #12
 281              		.cfi_def_cfa_offset 16
 282 015c 00AF     		add	r7, sp, #0
 283              		.cfi_def_cfa_register 7
 284 015e 7860     		str	r0, [r7, #4]
 162:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.endFrame_cb    = cb;
 285              		.loc 1 162 0
 286 0160 034A     		ldr	r2, .L8
 287 0162 7B68     		ldr	r3, [r7, #4]
 288 0164 5360     		str	r3, [r2, #4]
 163:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 289              		.loc 1 163 0
 290 0166 00BF     		nop
 291 0168 0C37     		adds	r7, r7, #12
 292              		.cfi_def_cfa_offset 4
 293 016a BD46     		mov	sp, r7
 294              		.cfi_def_cfa_register 13
 295              		@ sp needed
 296 016c 80BC     		pop	{r7}
 297              		.cfi_restore 7
 298              		.cfi_def_cfa_offset 0
 299 016e 7047     		bx	lr
 300              	.L9:
 301              		.align	2
 302              	.L8:
 303 0170 00000000 		.word	radio_vars
 304              		.cfi_endproc
 305              	.LFE3:
 307              		.align	2
 308              		.global	radio_reset
 309              		.thumb
 310              		.thumb_func
 312              	radio_reset:
 313              	.LFB4:
 164:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 165:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** //===== reset
 166:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 167:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_reset() {
 314              		.loc 1 167 0
 315              		.cfi_startproc
 316              		@ args = 0, pretend = 0, frame = 0
 317              		@ frame_needed = 1, uses_anonymous_args = 0
 318 0174 80B5     		push	{r7, lr}
 319              		.cfi_def_cfa_offset 8
 320              		.cfi_offset 7, -8
 321              		.cfi_offset 14, -4
 322 0176 00AF     		add	r7, sp, #0
 323              		.cfi_def_cfa_register 7
 168:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Wait for ongoing TX to complete (e.g. this could be an outgoing ACK) */
 169:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    while(HWREG(RFCORE_XREG_FSMSTAT1) & RFCORE_XREG_FSMSTAT1_TX_ACTIVE);
 324              		.loc 1 169 0
 325 0178 00BF     		nop
 326              	.L11:
 327              		.loc 1 169 0 is_stmt 0 discriminator 1
 328 017a 0E4B     		ldr	r3, .L13
 329 017c 1B68     		ldr	r3, [r3]
 330 017e 03F00203 		and	r3, r3, #2
 331 0182 002B     		cmp	r3, #0
 332 0184 F9D1     		bne	.L11
 170:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 171:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //flush fifos
 172:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    CC2538_RF_CSP_ISFLUSHRX();
 333              		.loc 1 172 0 is_stmt 1
 334 0186 0C4B     		ldr	r3, .L13+4
 335 0188 ED22     		movs	r2, #237
 336 018a 1A60     		str	r2, [r3]
 337 018c 0A4B     		ldr	r3, .L13+4
 338 018e ED22     		movs	r2, #237
 339 0190 1A60     		str	r2, [r3]
 173:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    CC2538_RF_CSP_ISFLUSHTX();
 340              		.loc 1 173 0
 341 0192 094B     		ldr	r3, .L13+4
 342 0194 EE22     		movs	r2, #238
 343 0196 1A60     		str	r2, [r3]
 344 0198 074B     		ldr	r3, .L13+4
 345 019a EE22     		movs	r2, #238
 346 019c 1A60     		str	r2, [r3]
 174:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 175:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Don't turn off if we are off as this will trigger a Strobe Error */
 176:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    if(HWREG(RFCORE_XREG_RXENABLE) != 0) {
 347              		.loc 1 176 0
 348 019e 074B     		ldr	r3, .L13+8
 349 01a0 1B68     		ldr	r3, [r3]
 350 01a2 002B     		cmp	r3, #0
 351 01a4 02D0     		beq	.L12
 177:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       CC2538_RF_CSP_ISRFOFF();
 352              		.loc 1 177 0
 353 01a6 044B     		ldr	r3, .L13+4
 354 01a8 EF22     		movs	r2, #239
 355 01aa 1A60     		str	r2, [r3]
 356              	.L12:
 178:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 179:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_init();
 357              		.loc 1 179 0
 358 01ac FFF7FEFF 		bl	radio_init
 180:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 359              		.loc 1 180 0
 360 01b0 00BF     		nop
 361 01b2 80BD     		pop	{r7, pc}
 362              	.L14:
 363              		.align	2
 364              	.L13:
 365 01b4 4C860840 		.word	1074300492
 366 01b8 38880840 		.word	1074300984
 367 01bc 2C860840 		.word	1074300460
 368              		.cfi_endproc
 369              	.LFE4:
 371              		.align	2
 372              		.global	radio_setFrequency
 373              		.thumb
 374              		.thumb_func
 376              	radio_setFrequency:
 377              	.LFB5:
 181:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 182:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** //===== RF admin
 183:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 184:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_setFrequency(uint8_t frequency) {
 378              		.loc 1 184 0
 379              		.cfi_startproc
 380              		@ args = 0, pretend = 0, frame = 8
 381              		@ frame_needed = 1, uses_anonymous_args = 0
 382 01c0 80B5     		push	{r7, lr}
 383              		.cfi_def_cfa_offset 8
 384              		.cfi_offset 7, -8
 385              		.cfi_offset 14, -4
 386 01c2 82B0     		sub	sp, sp, #8
 387              		.cfi_def_cfa_offset 16
 388 01c4 00AF     		add	r7, sp, #0
 389              		.cfi_def_cfa_register 7
 390 01c6 0346     		mov	r3, r0
 391 01c8 FB71     		strb	r3, [r7, #7]
 185:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 186:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
 187:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state = RADIOSTATE_SETTING_FREQUENCY;
 392              		.loc 1 187 0
 393 01ca 0E4B     		ldr	r3, .L18
 394 01cc 0222     		movs	r2, #2
 395 01ce 1A72     		strb	r2, [r3, #8]
 188:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 189:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_off();
 396              		.loc 1 189 0
 397 01d0 FFF7FEFF 		bl	radio_off
 190:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // configure the radio to the right frequecy
 191:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    if((frequency < CC2538_RF_CHANNEL_MIN) || (frequency > CC2538_RF_CHANNEL_MAX)) {
 398              		.loc 1 191 0
 399 01d4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 400 01d6 0A2B     		cmp	r3, #10
 401 01d8 02D9     		bls	.L16
 402              		.loc 1 191 0 is_stmt 0 discriminator 1
 403 01da FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 404 01dc 1A2B     		cmp	r3, #26
 405 01de 00D9     		bls	.L17
 406              	.L16:
 192:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       while(1);
 407              		.loc 1 192 0 is_stmt 1 discriminator 1
 408 01e0 FEE7     		b	.L16
 409              	.L17:
 193:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 194:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 195:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Changes to FREQCTRL take effect after the next recalibration */
 196:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_FREQCTRL) = (CC2538_RF_CHANNEL_MIN
 410              		.loc 1 196 0
 411 01e2 0949     		ldr	r1, .L18+4
 197:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       + (frequency - CC2538_RF_CHANNEL_MIN) * CC2538_RF_CHANNEL_SPACING);
 412              		.loc 1 197 0
 413 01e4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 414 01e6 A3F10B02 		sub	r2, r3, #11
 415 01ea 1346     		mov	r3, r2
 416 01ec 9B00     		lsls	r3, r3, #2
 417 01ee 1344     		add	r3, r3, r2
 418 01f0 0B33     		adds	r3, r3, #11
 196:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       + (frequency - CC2538_RF_CHANNEL_MIN) * CC2538_RF_CHANNEL_SPACING);
 419              		.loc 1 196 0
 420 01f2 0B60     		str	r3, [r1]
 198:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 199:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //radio_on();
 200:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 201:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
 202:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state = RADIOSTATE_FREQUENCY_SET;
 421              		.loc 1 202 0
 422 01f4 034B     		ldr	r3, .L18
 423 01f6 0322     		movs	r2, #3
 424 01f8 1A72     		strb	r2, [r3, #8]
 203:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 425              		.loc 1 203 0
 426 01fa 00BF     		nop
 427 01fc 0837     		adds	r7, r7, #8
 428              		.cfi_def_cfa_offset 8
 429 01fe BD46     		mov	sp, r7
 430              		.cfi_def_cfa_register 13
 431              		@ sp needed
 432 0200 80BD     		pop	{r7, pc}
 433              	.L19:
 434 0202 00BF     		.align	2
 435              	.L18:
 436 0204 00000000 		.word	radio_vars
 437 0208 3C860840 		.word	1074300476
 438              		.cfi_endproc
 439              	.LFE5:
 441              		.align	2
 442              		.global	radio_rfOn
 443              		.thumb
 444              		.thumb_func
 446              	radio_rfOn:
 447              	.LFB6:
 204:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 205:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_rfOn() {
 448              		.loc 1 205 0
 449              		.cfi_startproc
 450              		@ args = 0, pretend = 0, frame = 0
 451              		@ frame_needed = 1, uses_anonymous_args = 0
 452              		@ link register save eliminated.
 453 020c 80B4     		push	{r7}
 454              		.cfi_def_cfa_offset 4
 455              		.cfi_offset 7, -4
 456 020e 00AF     		add	r7, sp, #0
 457              		.cfi_def_cfa_register 7
 206:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //radio_on();
 207:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 458              		.loc 1 207 0
 459 0210 00BF     		nop
 460 0212 BD46     		mov	sp, r7
 461              		.cfi_def_cfa_register 13
 462              		@ sp needed
 463 0214 80BC     		pop	{r7}
 464              		.cfi_restore 7
 465              		.cfi_def_cfa_offset 0
 466 0216 7047     		bx	lr
 467              		.cfi_endproc
 468              	.LFE6:
 470              		.align	2
 471              		.global	radio_rfOff
 472              		.thumb
 473              		.thumb_func
 475              	radio_rfOff:
 476              	.LFB7:
 208:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 209:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_rfOff() {
 477              		.loc 1 209 0
 478              		.cfi_startproc
 479              		@ args = 0, pretend = 0, frame = 0
 480              		@ frame_needed = 1, uses_anonymous_args = 0
 481 0218 80B5     		push	{r7, lr}
 482              		.cfi_def_cfa_offset 8
 483              		.cfi_offset 7, -8
 484              		.cfi_offset 14, -4
 485 021a 00AF     		add	r7, sp, #0
 486              		.cfi_def_cfa_register 7
 210:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 211:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
 212:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state = RADIOSTATE_TURNING_OFF;
 487              		.loc 1 212 0
 488 021c 074B     		ldr	r3, .L22
 489 021e 0D22     		movs	r2, #13
 490 0220 1A72     		strb	r2, [r3, #8]
 213:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_off();
 491              		.loc 1 213 0
 492 0222 FFF7FEFF 		bl	radio_off
 214:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // wiggle debug pin
 215:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    debugpins_radio_clr();
 493              		.loc 1 215 0
 494 0226 FFF7FEFF 		bl	debugpins_radio_clr
 216:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    leds_radio_off();
 495              		.loc 1 216 0
 496 022a FFF7FEFF 		bl	leds_radio_off
 217:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //enable radio interrupts
 218:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    disable_radio_interrupts();
 497              		.loc 1 218 0
 498 022e FFF7FEFF 		bl	disable_radio_interrupts
 219:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 220:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
 221:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state = RADIOSTATE_RFOFF;
 499              		.loc 1 221 0
 500 0232 024B     		ldr	r3, .L22
 501 0234 0122     		movs	r2, #1
 502 0236 1A72     		strb	r2, [r3, #8]
 222:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 503              		.loc 1 222 0
 504 0238 00BF     		nop
 505 023a 80BD     		pop	{r7, pc}
 506              	.L23:
 507              		.align	2
 508              	.L22:
 509 023c 00000000 		.word	radio_vars
 510              		.cfi_endproc
 511              	.LFE7:
 513              		.align	2
 514              		.global	radio_loadPacket
 515              		.thumb
 516              		.thumb_func
 518              	radio_loadPacket:
 519              	.LFB8:
 223:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 224:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** //===== TX
 225:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 226:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_loadPacket(uint8_t* packet, uint16_t len) {
 520              		.loc 1 226 0
 521              		.cfi_startproc
 522              		@ args = 0, pretend = 0, frame = 16
 523              		@ frame_needed = 1, uses_anonymous_args = 0
 524              		@ link register save eliminated.
 525 0240 80B4     		push	{r7}
 526              		.cfi_def_cfa_offset 4
 527              		.cfi_offset 7, -4
 528 0242 85B0     		sub	sp, sp, #20
 529              		.cfi_def_cfa_offset 24
 530 0244 00AF     		add	r7, sp, #0
 531              		.cfi_def_cfa_register 7
 532 0246 7860     		str	r0, [r7, #4]
 533 0248 0B46     		mov	r3, r1
 534 024a 7B80     		strh	r3, [r7, #2]	@ movhi
 227:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    uint8_t i=0;
 535              		.loc 1 227 0
 536 024c 0023     		movs	r3, #0
 537 024e FB73     		strb	r3, [r7, #15]
 228:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 229:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
 230:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state = RADIOSTATE_LOADING_PACKET;
 538              		.loc 1 230 0
 539 0250 154B     		ldr	r3, .L28
 540 0252 0422     		movs	r2, #4
 541 0254 1A72     		strb	r2, [r3, #8]
 231:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 232:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // load packet in TXFIFO
 233:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /*
 234:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    When we transmit in very quick bursts, make sure previous transmission
 235:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    is not still in progress before re-writing to the TX FIFO
 236:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    */
 237:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    while(HWREG(RFCORE_XREG_FSMSTAT1) & RFCORE_XREG_FSMSTAT1_TX_ACTIVE);
 542              		.loc 1 237 0
 543 0256 00BF     		nop
 544              	.L25:
 545              		.loc 1 237 0 is_stmt 0 discriminator 1
 546 0258 144B     		ldr	r3, .L28+4
 547 025a 1B68     		ldr	r3, [r3]
 548 025c 03F00203 		and	r3, r3, #2
 549 0260 002B     		cmp	r3, #0
 550 0262 F9D1     		bne	.L25
 238:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 239:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    CC2538_RF_CSP_ISFLUSHTX();
 551              		.loc 1 239 0 is_stmt 1
 552 0264 124B     		ldr	r3, .L28+8
 553 0266 EE22     		movs	r2, #238
 554 0268 1A60     		str	r2, [r3]
 555 026a 114B     		ldr	r3, .L28+8
 556 026c EE22     		movs	r2, #238
 557 026e 1A60     		str	r2, [r3]
 240:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 241:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Send the phy length byte first */
 242:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****     HWREG(RFCORE_SFR_RFDATA) = len; //crc len is included
 558              		.loc 1 242 0
 559 0270 104A     		ldr	r2, .L28+12
 560 0272 7B88     		ldrh	r3, [r7, #2]
 561 0274 1360     		str	r3, [r2]
 243:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 244:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    for(i = 0; i < len; i++) {
 562              		.loc 1 244 0
 563 0276 0023     		movs	r3, #0
 564 0278 FB73     		strb	r3, [r7, #15]
 565 027a 08E0     		b	.L26
 566              	.L27:
 245:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       HWREG(RFCORE_SFR_RFDATA) = packet[i];
 567              		.loc 1 245 0 discriminator 3
 568 027c 0D49     		ldr	r1, .L28+12
 569 027e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 570 0280 7A68     		ldr	r2, [r7, #4]
 571 0282 1344     		add	r3, r3, r2
 572 0284 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 573 0286 0B60     		str	r3, [r1]
 244:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       HWREG(RFCORE_SFR_RFDATA) = packet[i];
 574              		.loc 1 244 0 discriminator 3
 575 0288 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 576 028a 0133     		adds	r3, r3, #1
 577 028c FB73     		strb	r3, [r7, #15]
 578              	.L26:
 244:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       HWREG(RFCORE_SFR_RFDATA) = packet[i];
 579              		.loc 1 244 0 is_stmt 0 discriminator 1
 580 028e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 581 0290 9BB2     		uxth	r3, r3
 582 0292 7A88     		ldrh	r2, [r7, #2]
 583 0294 9A42     		cmp	r2, r3
 584 0296 F1D8     		bhi	.L27
 246:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 247:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 248:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
 249:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state = RADIOSTATE_PACKET_LOADED;
 585              		.loc 1 249 0 is_stmt 1
 586 0298 034B     		ldr	r3, .L28
 587 029a 0522     		movs	r2, #5
 588 029c 1A72     		strb	r2, [r3, #8]
 250:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 589              		.loc 1 250 0
 590 029e 00BF     		nop
 591 02a0 1437     		adds	r7, r7, #20
 592              		.cfi_def_cfa_offset 4
 593 02a2 BD46     		mov	sp, r7
 594              		.cfi_def_cfa_register 13
 595              		@ sp needed
 596 02a4 80BC     		pop	{r7}
 597              		.cfi_restore 7
 598              		.cfi_def_cfa_offset 0
 599 02a6 7047     		bx	lr
 600              	.L29:
 601              		.align	2
 602              	.L28:
 603 02a8 00000000 		.word	radio_vars
 604 02ac 4C860840 		.word	1074300492
 605 02b0 38880840 		.word	1074300984
 606 02b4 28880840 		.word	1074300968
 607              		.cfi_endproc
 608              	.LFE8:
 610              		.align	2
 611              		.global	radio_txEnable
 612              		.thumb
 613              		.thumb_func
 615              	radio_txEnable:
 616              	.LFB9:
 251:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 252:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_txEnable() {
 617              		.loc 1 252 0
 618              		.cfi_startproc
 619              		@ args = 0, pretend = 0, frame = 0
 620              		@ frame_needed = 1, uses_anonymous_args = 0
 621 02b8 80B5     		push	{r7, lr}
 622              		.cfi_def_cfa_offset 8
 623              		.cfi_offset 7, -8
 624              		.cfi_offset 14, -4
 625 02ba 00AF     		add	r7, sp, #0
 626              		.cfi_def_cfa_register 7
 253:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 254:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
 255:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state = RADIOSTATE_ENABLING_TX;
 627              		.loc 1 255 0
 628 02bc 054B     		ldr	r3, .L31
 629 02be 0622     		movs	r2, #6
 630 02c0 1A72     		strb	r2, [r3, #8]
 256:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 257:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // wiggle debug pin
 258:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    debugpins_radio_set();
 631              		.loc 1 258 0
 632 02c2 FFF7FEFF 		bl	debugpins_radio_set
 259:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    leds_radio_on();
 633              		.loc 1 259 0
 634 02c6 FFF7FEFF 		bl	leds_radio_on
 260:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 261:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //do nothing -- radio is activated by the strobe on rx or tx
 262:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //radio_rfOn();
 263:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 264:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
 265:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state = RADIOSTATE_TX_ENABLED;
 635              		.loc 1 265 0
 636 02ca 024B     		ldr	r3, .L31
 637 02cc 0722     		movs	r2, #7
 638 02ce 1A72     		strb	r2, [r3, #8]
 266:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 639              		.loc 1 266 0
 640 02d0 00BF     		nop
 641 02d2 80BD     		pop	{r7, pc}
 642              	.L32:
 643              		.align	2
 644              	.L31:
 645 02d4 00000000 		.word	radio_vars
 646              		.cfi_endproc
 647              	.LFE9:
 649              		.align	2
 650              		.global	radio_txNow
 651              		.thumb
 652              		.thumb_func
 654              	radio_txNow:
 655              	.LFB10:
 267:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 268:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_txNow() {
 656              		.loc 1 268 0
 657              		.cfi_startproc
 658              		@ args = 0, pretend = 0, frame = 8
 659              		@ frame_needed = 1, uses_anonymous_args = 0
 660 02d8 80B5     		push	{r7, lr}
 661              		.cfi_def_cfa_offset 8
 662              		.cfi_offset 7, -8
 663              		.cfi_offset 14, -4
 664 02da 82B0     		sub	sp, sp, #8
 665              		.cfi_def_cfa_offset 16
 666 02dc 00AF     		add	r7, sp, #0
 667              		.cfi_def_cfa_register 7
 269:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    PORT_TIMER_WIDTH count;
 270:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 271:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
 272:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state = RADIOSTATE_TRANSMITTING;
 668              		.loc 1 272 0
 669 02de 0F4B     		ldr	r3, .L37
 670 02e0 0822     		movs	r2, #8
 671 02e2 1A72     		strb	r2, [r3, #8]
 273:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 274:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //enable radio interrupts
 275:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    enable_radio_interrupts();
 672              		.loc 1 275 0
 673 02e4 FFF7FEFF 		bl	enable_radio_interrupts
 276:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 277:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //make sure we are not transmitting already
 278:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    while(HWREG(RFCORE_XREG_FSMSTAT1) & RFCORE_XREG_FSMSTAT1_TX_ACTIVE);
 674              		.loc 1 278 0
 675 02e8 00BF     		nop
 676              	.L34:
 677              		.loc 1 278 0 is_stmt 0 discriminator 1
 678 02ea 0D4B     		ldr	r3, .L37+4
 679 02ec 1B68     		ldr	r3, [r3]
 680 02ee 03F00203 		and	r3, r3, #2
 681 02f2 002B     		cmp	r3, #0
 682 02f4 F9D1     		bne	.L34
 279:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 280:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // send packet by STON strobe see pag 669
 281:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 282:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    CC2538_RF_CSP_ISTXON();
 683              		.loc 1 282 0 is_stmt 1
 684 02f6 0B4B     		ldr	r3, .L37+8
 685 02f8 E922     		movs	r2, #233
 686 02fa 1A60     		str	r2, [r3]
 283:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //wait 192uS
 284:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    count=0;
 687              		.loc 1 284 0
 688 02fc 0023     		movs	r3, #0
 689 02fe 7B60     		str	r3, [r7, #4]
 285:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    while(!((HWREG(RFCORE_XREG_FSMSTAT1) & RFCORE_XREG_FSMSTAT1_TX_ACTIVE))){
 690              		.loc 1 285 0
 691 0300 02E0     		b	.L35
 692              	.L36:
 286:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       count++; //debug
 693              		.loc 1 286 0
 694 0302 7B68     		ldr	r3, [r7, #4]
 695 0304 0133     		adds	r3, r3, #1
 696 0306 7B60     		str	r3, [r7, #4]
 697              	.L35:
 285:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    while(!((HWREG(RFCORE_XREG_FSMSTAT1) & RFCORE_XREG_FSMSTAT1_TX_ACTIVE))){
 698              		.loc 1 285 0
 699 0308 054B     		ldr	r3, .L37+4
 700 030a 1B68     		ldr	r3, [r3]
 701 030c 03F00203 		and	r3, r3, #2
 702 0310 002B     		cmp	r3, #0
 703 0312 F6D0     		beq	.L36
 287:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 288:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 704              		.loc 1 288 0
 705 0314 00BF     		nop
 706 0316 0837     		adds	r7, r7, #8
 707              		.cfi_def_cfa_offset 8
 708 0318 BD46     		mov	sp, r7
 709              		.cfi_def_cfa_register 13
 710              		@ sp needed
 711 031a 80BD     		pop	{r7, pc}
 712              	.L38:
 713              		.align	2
 714              	.L37:
 715 031c 00000000 		.word	radio_vars
 716 0320 4C860840 		.word	1074300492
 717 0324 38880840 		.word	1074300984
 718              		.cfi_endproc
 719              	.LFE10:
 721              		.align	2
 722              		.global	radio_rxEnable
 723              		.thumb
 724              		.thumb_func
 726              	radio_rxEnable:
 727              	.LFB11:
 289:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 290:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** //===== RX
 291:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 292:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_rxEnable() {
 728              		.loc 1 292 0
 729              		.cfi_startproc
 730              		@ args = 0, pretend = 0, frame = 0
 731              		@ frame_needed = 1, uses_anonymous_args = 0
 732 0328 80B5     		push	{r7, lr}
 733              		.cfi_def_cfa_offset 8
 734              		.cfi_offset 7, -8
 735              		.cfi_offset 14, -4
 736 032a 00AF     		add	r7, sp, #0
 737              		.cfi_def_cfa_register 7
 293:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 294:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
 295:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state = RADIOSTATE_ENABLING_RX;
 738              		.loc 1 295 0
 739 032c 054B     		ldr	r3, .L40
 740 032e 0922     		movs	r2, #9
 741 0330 1A72     		strb	r2, [r3, #8]
 296:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 297:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //enable radio interrupts
 298:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 299:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // do nothing as we do not want to receive anything yet.
 300:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // wiggle debug pin
 301:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    debugpins_radio_set();
 742              		.loc 1 301 0
 743 0332 FFF7FEFF 		bl	debugpins_radio_set
 302:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    leds_radio_on();
 744              		.loc 1 302 0
 745 0336 FFF7FEFF 		bl	leds_radio_on
 303:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 304:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // change state
 305:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    radio_vars.state = RADIOSTATE_LISTENING;
 746              		.loc 1 305 0
 747 033a 024B     		ldr	r3, .L40
 748 033c 0A22     		movs	r2, #10
 749 033e 1A72     		strb	r2, [r3, #8]
 306:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 750              		.loc 1 306 0
 751 0340 00BF     		nop
 752 0342 80BD     		pop	{r7, pc}
 753              	.L41:
 754              		.align	2
 755              	.L40:
 756 0344 00000000 		.word	radio_vars
 757              		.cfi_endproc
 758              	.LFE11:
 760              		.align	2
 761              		.global	radio_rxNow
 762              		.thumb
 763              		.thumb_func
 765              	radio_rxNow:
 766              	.LFB12:
 307:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 308:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_rxNow() {
 767              		.loc 1 308 0
 768              		.cfi_startproc
 769              		@ args = 0, pretend = 0, frame = 0
 770              		@ frame_needed = 1, uses_anonymous_args = 0
 771 0348 80B5     		push	{r7, lr}
 772              		.cfi_def_cfa_offset 8
 773              		.cfi_offset 7, -8
 774              		.cfi_offset 14, -4
 775 034a 00AF     		add	r7, sp, #0
 776              		.cfi_def_cfa_register 7
 309:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //empty buffer before receiving
 310:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //CC2538_RF_CSP_ISFLUSHRX();
 311:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 312:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //enable radio interrupts
 313:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    CC2538_RF_CSP_ISFLUSHRX();
 777              		.loc 1 313 0
 778 034c 094B     		ldr	r3, .L44
 779 034e ED22     		movs	r2, #237
 780 0350 1A60     		str	r2, [r3]
 781 0352 084B     		ldr	r3, .L44
 782 0354 ED22     		movs	r2, #237
 783 0356 1A60     		str	r2, [r3]
 314:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    enable_radio_interrupts();
 784              		.loc 1 314 0
 785 0358 FFF7FEFF 		bl	enable_radio_interrupts
 315:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 316:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    CC2538_RF_CSP_ISRXON();
 786              		.loc 1 316 0
 787 035c 054B     		ldr	r3, .L44
 788 035e E322     		movs	r2, #227
 789 0360 1A60     		str	r2, [r3]
 317:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // busy wait until radio really listening
 318:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    while(!((HWREG(RFCORE_XREG_FSMSTAT1) & RFCORE_XREG_FSMSTAT1_RX_ACTIVE)));
 790              		.loc 1 318 0
 791 0362 00BF     		nop
 792              	.L43:
 793              		.loc 1 318 0 is_stmt 0 discriminator 1
 794 0364 044B     		ldr	r3, .L44+4
 795 0366 1B68     		ldr	r3, [r3]
 796 0368 03F00103 		and	r3, r3, #1
 797 036c 002B     		cmp	r3, #0
 798 036e F9D0     		beq	.L43
 319:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 799              		.loc 1 319 0 is_stmt 1
 800 0370 00BF     		nop
 801 0372 80BD     		pop	{r7, pc}
 802              	.L45:
 803              		.align	2
 804              	.L44:
 805 0374 38880840 		.word	1074300984
 806 0378 4C860840 		.word	1074300492
 807              		.cfi_endproc
 808              	.LFE12:
 810              		.align	2
 811              		.global	radio_getReceivedFrame
 812              		.thumb
 813              		.thumb_func
 815              	radio_getReceivedFrame:
 816              	.LFB13:
 320:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 321:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_getReceivedFrame(uint8_t* pBufRead,
 322:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****                             uint8_t* pLenRead,
 323:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****                             uint8_t  maxBufLen,
 324:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****                              int8_t* pRssi,
 325:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****                             uint8_t* pLqi,
 326:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****                                bool* pCrc) {
 817              		.loc 1 326 0
 818              		.cfi_startproc
 819              		@ args = 8, pretend = 0, frame = 24
 820              		@ frame_needed = 1, uses_anonymous_args = 0
 821              		@ link register save eliminated.
 822 037c 80B4     		push	{r7}
 823              		.cfi_def_cfa_offset 4
 824              		.cfi_offset 7, -4
 825 037e 87B0     		sub	sp, sp, #28
 826              		.cfi_def_cfa_offset 32
 827 0380 00AF     		add	r7, sp, #0
 828              		.cfi_def_cfa_register 7
 829 0382 F860     		str	r0, [r7, #12]
 830 0384 B960     		str	r1, [r7, #8]
 831 0386 3B60     		str	r3, [r7]
 832 0388 1346     		mov	r3, r2
 833 038a FB71     		strb	r3, [r7, #7]
 327:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    uint8_t crc_corr,i;
 328:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 329:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    uint8_t len=0;
 834              		.loc 1 329 0
 835 038c 0023     		movs	r3, #0
 836 038e BB75     		strb	r3, [r7, #22]
 330:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 331:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Check the length */
 332:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    len = HWREG(RFCORE_SFR_RFDATA); //first byte is len
 837              		.loc 1 332 0
 838 0390 2B4B     		ldr	r3, .L53
 839 0392 1B68     		ldr	r3, [r3]
 840 0394 BB75     		strb	r3, [r7, #22]
 333:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 334:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 335:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Check for validity */
 336:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    if(len > CC2538_RF_MAX_PACKET_LEN) {
 841              		.loc 1 336 0
 842 0396 97F91630 		ldrsb	r3, [r7, #22]
 843 039a 002B     		cmp	r3, #0
 844 039c 06DA     		bge	.L47
 337:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       /* wrong len */
 338:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       CC2538_RF_CSP_ISFLUSHRX();
 845              		.loc 1 338 0
 846 039e 294B     		ldr	r3, .L53+4
 847 03a0 ED22     		movs	r2, #237
 848 03a2 1A60     		str	r2, [r3]
 849 03a4 274B     		ldr	r3, .L53+4
 850 03a6 ED22     		movs	r2, #237
 851 03a8 1A60     		str	r2, [r3]
 339:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       return;
 852              		.loc 1 339 0
 853 03aa 44E0     		b	.L46
 854              	.L47:
 340:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 341:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 342:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 343:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    if(len <= CC2538_RF_MIN_PACKET_LEN) {
 855              		.loc 1 343 0
 856 03ac BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 857 03ae 042B     		cmp	r3, #4
 858 03b0 06D8     		bhi	.L49
 344:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       //too short
 345:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       CC2538_RF_CSP_ISFLUSHRX();
 859              		.loc 1 345 0
 860 03b2 244B     		ldr	r3, .L53+4
 861 03b4 ED22     		movs	r2, #237
 862 03b6 1A60     		str	r2, [r3]
 863 03b8 224B     		ldr	r3, .L53+4
 864 03ba ED22     		movs	r2, #237
 865 03bc 1A60     		str	r2, [r3]
 346:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       return;
 866              		.loc 1 346 0
 867 03be 3AE0     		b	.L46
 868              	.L49:
 347:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 348:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 349:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //check if this fits to the buffer
 350:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    if(len > maxBufLen) {
 869              		.loc 1 350 0
 870 03c0 BA7D     		ldrb	r2, [r7, #22]	@ zero_extendqisi2
 871 03c2 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 872 03c4 9A42     		cmp	r2, r3
 873 03c6 06D9     		bls	.L50
 351:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       CC2538_RF_CSP_ISFLUSHRX();
 874              		.loc 1 351 0
 875 03c8 1E4B     		ldr	r3, .L53+4
 876 03ca ED22     		movs	r2, #237
 877 03cc 1A60     		str	r2, [r3]
 878 03ce 1D4B     		ldr	r3, .L53+4
 879 03d0 ED22     		movs	r2, #237
 880 03d2 1A60     		str	r2, [r3]
 352:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       return;
 881              		.loc 1 352 0
 882 03d4 2FE0     		b	.L46
 883              	.L50:
 353:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 354:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 355:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // when reading the packet from the RX buffer, you get the following:
 356:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // - *[1B]     length byte
 357:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // -  [0-125B] packet (excluding CRC)
 358:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // -  [1B]     RSSI
 359:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // - *[2B]     CRC
 360:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 361:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //skip first byte is len
 362:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    for(i = 0; i < len - 2; i++) {
 884              		.loc 1 362 0
 885 03d6 0023     		movs	r3, #0
 886 03d8 FB75     		strb	r3, [r7, #23]
 887 03da 09E0     		b	.L51
 888              	.L52:
 363:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       pBufRead[i] = HWREG(RFCORE_SFR_RFDATA);
 889              		.loc 1 363 0 discriminator 3
 890 03dc FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 891 03de FA68     		ldr	r2, [r7, #12]
 892 03e0 1344     		add	r3, r3, r2
 893 03e2 174A     		ldr	r2, .L53
 894 03e4 1268     		ldr	r2, [r2]
 895 03e6 D2B2     		uxtb	r2, r2
 896 03e8 1A70     		strb	r2, [r3]
 362:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       pBufRead[i] = HWREG(RFCORE_SFR_RFDATA);
 897              		.loc 1 362 0 discriminator 3
 898 03ea FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 899 03ec 0133     		adds	r3, r3, #1
 900 03ee FB75     		strb	r3, [r7, #23]
 901              	.L51:
 362:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       pBufRead[i] = HWREG(RFCORE_SFR_RFDATA);
 902              		.loc 1 362 0 is_stmt 0 discriminator 1
 903 03f0 FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 904 03f2 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 905 03f4 023B     		subs	r3, r3, #2
 906 03f6 9A42     		cmp	r2, r3
 907 03f8 F0DB     		blt	.L52
 364:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 365:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 366:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    *pRssi     = ((int8_t)(HWREG(RFCORE_SFR_RFDATA)) - RSSI_OFFSET);
 908              		.loc 1 366 0 is_stmt 1
 909 03fa 114B     		ldr	r3, .L53
 910 03fc 1B68     		ldr	r3, [r3]
 911 03fe DBB2     		uxtb	r3, r3
 912 0400 493B     		subs	r3, r3, #73
 913 0402 DBB2     		uxtb	r3, r3
 914 0404 5AB2     		sxtb	r2, r3
 915 0406 3B68     		ldr	r3, [r7]
 916 0408 1A70     		strb	r2, [r3]
 367:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    crc_corr   = HWREG(RFCORE_SFR_RFDATA);
 917              		.loc 1 367 0
 918 040a 0D4B     		ldr	r3, .L53
 919 040c 1B68     		ldr	r3, [r3]
 920 040e 7B75     		strb	r3, [r7, #21]
 368:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    *pCrc      = crc_corr & CRC_BIT_MASK;
 921              		.loc 1 368 0
 922 0410 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 923 0412 03F08003 		and	r3, r3, #128
 924 0416 002B     		cmp	r3, #0
 925 0418 14BF     		ite	ne
 926 041a 0123     		movne	r3, #1
 927 041c 0023     		moveq	r3, #0
 928 041e DAB2     		uxtb	r2, r3
 929 0420 7B6A     		ldr	r3, [r7, #36]
 930 0422 1A70     		strb	r2, [r3]
 369:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    *pLenRead  = len;
 931              		.loc 1 369 0
 932 0424 BB68     		ldr	r3, [r7, #8]
 933 0426 BA7D     		ldrb	r2, [r7, #22]
 934 0428 1A70     		strb	r2, [r3]
 370:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 371:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //flush it
 372:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    CC2538_RF_CSP_ISFLUSHRX();
 935              		.loc 1 372 0
 936 042a 064B     		ldr	r3, .L53+4
 937 042c ED22     		movs	r2, #237
 938 042e 1A60     		str	r2, [r3]
 939 0430 044B     		ldr	r3, .L53+4
 940 0432 ED22     		movs	r2, #237
 941 0434 1A60     		str	r2, [r3]
 942              	.L46:
 373:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 943              		.loc 1 373 0
 944 0436 1C37     		adds	r7, r7, #28
 945              		.cfi_def_cfa_offset 4
 946 0438 BD46     		mov	sp, r7
 947              		.cfi_def_cfa_register 13
 948              		@ sp needed
 949 043a 80BC     		pop	{r7}
 950              		.cfi_restore 7
 951              		.cfi_def_cfa_offset 0
 952 043c 7047     		bx	lr
 953              	.L54:
 954 043e 00BF     		.align	2
 955              	.L53:
 956 0440 28880840 		.word	1074300968
 957 0444 38880840 		.word	1074300984
 958              		.cfi_endproc
 959              	.LFE13:
 961              		.align	2
 962              		.global	enable_radio_interrupts
 963              		.thumb
 964              		.thumb_func
 966              	enable_radio_interrupts:
 967              	.LFB14:
 374:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 375:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** //=========================== private =========================================
 376:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 377:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void enable_radio_interrupts(void){
 968              		.loc 1 377 0
 969              		.cfi_startproc
 970              		@ args = 0, pretend = 0, frame = 0
 971              		@ frame_needed = 1, uses_anonymous_args = 0
 972              		@ link register save eliminated.
 973 0448 80B4     		push	{r7}
 974              		.cfi_def_cfa_offset 4
 975              		.cfi_offset 7, -4
 976 044a 00AF     		add	r7, sp, #0
 977              		.cfi_def_cfa_register 7
 378:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Enable RF interrupts 0, RXPKTDONE,SFD,FIFOP only -- see page 751  */
 379:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_RFIRQM0) |= ((0x06|0x02|0x01) << RFCORE_XREG_RFIRQM0_RFIRQM_S) & RFCORE_XREG_R
 978              		.loc 1 379 0
 979 044c 074A     		ldr	r2, .L56
 980 044e 074B     		ldr	r3, .L56
 981 0450 1B68     		ldr	r3, [r3]
 982 0452 43F00703 		orr	r3, r3, #7
 983 0456 1360     		str	r3, [r2]
 380:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 381:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Enable RF interrupts 1, TXDONE only */
 382:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_RFIRQM1) |= ((0x02) << RFCORE_XREG_RFIRQM1_RFIRQM_S) & RFCORE_XREG_RFIRQM1_RFI
 984              		.loc 1 382 0
 985 0458 054A     		ldr	r2, .L56+4
 986 045a 054B     		ldr	r3, .L56+4
 987 045c 1B68     		ldr	r3, [r3]
 988 045e 43F00203 		orr	r3, r3, #2
 989 0462 1360     		str	r3, [r2]
 383:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 990              		.loc 1 383 0
 991 0464 00BF     		nop
 992 0466 BD46     		mov	sp, r7
 993              		.cfi_def_cfa_register 13
 994              		@ sp needed
 995 0468 80BC     		pop	{r7}
 996              		.cfi_restore 7
 997              		.cfi_def_cfa_offset 0
 998 046a 7047     		bx	lr
 999              	.L57:
 1000              		.align	2
 1001              	.L56:
 1002 046c 8C860840 		.word	1074300556
 1003 0470 90860840 		.word	1074300560
 1004              		.cfi_endproc
 1005              	.LFE14:
 1007              		.align	2
 1008              		.global	disable_radio_interrupts
 1009              		.thumb
 1010              		.thumb_func
 1012              	disable_radio_interrupts:
 1013              	.LFB15:
 384:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 385:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void disable_radio_interrupts(void){
 1014              		.loc 1 385 0
 1015              		.cfi_startproc
 1016              		@ args = 0, pretend = 0, frame = 0
 1017              		@ frame_needed = 1, uses_anonymous_args = 0
 1018              		@ link register save eliminated.
 1019 0474 80B4     		push	{r7}
 1020              		.cfi_def_cfa_offset 4
 1021              		.cfi_offset 7, -4
 1022 0476 00AF     		add	r7, sp, #0
 1023              		.cfi_def_cfa_register 7
 386:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Enable RF interrupts 0, RXPKTDONE,SFD,FIFOP only -- see page 751  */
 387:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_RFIRQM0) = 0;
 1024              		.loc 1 387 0
 1025 0478 044B     		ldr	r3, .L59
 1026 047a 0022     		movs	r2, #0
 1027 047c 1A60     		str	r2, [r3]
 388:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Enable RF interrupts 1, TXDONE only */
 389:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_XREG_RFIRQM1) = 0;
 1028              		.loc 1 389 0
 1029 047e 044B     		ldr	r3, .L59+4
 1030 0480 0022     		movs	r2, #0
 1031 0482 1A60     		str	r2, [r3]
 390:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 1032              		.loc 1 390 0
 1033 0484 00BF     		nop
 1034 0486 BD46     		mov	sp, r7
 1035              		.cfi_def_cfa_register 13
 1036              		@ sp needed
 1037 0488 80BC     		pop	{r7}
 1038              		.cfi_restore 7
 1039              		.cfi_def_cfa_offset 0
 1040 048a 7047     		bx	lr
 1041              	.L60:
 1042              		.align	2
 1043              	.L59:
 1044 048c 8C860840 		.word	1074300556
 1045 0490 90860840 		.word	1074300560
 1046              		.cfi_endproc
 1047              	.LFE15:
 1049              		.align	2
 1050              		.global	radio_on
 1051              		.thumb
 1052              		.thumb_func
 1054              	radio_on:
 1055              	.LFB16:
 391:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 392:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_on(void){
 1056              		.loc 1 392 0
 1057              		.cfi_startproc
 1058              		@ args = 0, pretend = 0, frame = 0
 1059              		@ frame_needed = 1, uses_anonymous_args = 0
 1060              		@ link register save eliminated.
 1061 0494 80B4     		push	{r7}
 1062              		.cfi_def_cfa_offset 4
 1063              		.cfi_offset 7, -4
 1064 0496 00AF     		add	r7, sp, #0
 1065              		.cfi_def_cfa_register 7
 393:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // CC2538_RF_CSP_ISFLUSHRX();
 394:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****     CC2538_RF_CSP_ISRXON();
 1066              		.loc 1 394 0
 1067 0498 034B     		ldr	r3, .L62
 1068 049a E322     		movs	r2, #227
 1069 049c 1A60     		str	r2, [r3]
 395:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 1070              		.loc 1 395 0
 1071 049e 00BF     		nop
 1072 04a0 BD46     		mov	sp, r7
 1073              		.cfi_def_cfa_register 13
 1074              		@ sp needed
 1075 04a2 80BC     		pop	{r7}
 1076              		.cfi_restore 7
 1077              		.cfi_def_cfa_offset 0
 1078 04a4 7047     		bx	lr
 1079              	.L63:
 1080 04a6 00BF     		.align	2
 1081              	.L62:
 1082 04a8 38880840 		.word	1074300984
 1083              		.cfi_endproc
 1084              	.LFE16:
 1086              		.align	2
 1087              		.global	radio_off
 1088              		.thumb
 1089              		.thumb_func
 1091              	radio_off:
 1092              	.LFB17:
 396:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 397:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_off(void){
 1093              		.loc 1 397 0
 1094              		.cfi_startproc
 1095              		@ args = 0, pretend = 0, frame = 0
 1096              		@ frame_needed = 1, uses_anonymous_args = 0
 1097              		@ link register save eliminated.
 1098 04ac 80B4     		push	{r7}
 1099              		.cfi_def_cfa_offset 4
 1100              		.cfi_offset 7, -4
 1101 04ae 00AF     		add	r7, sp, #0
 1102              		.cfi_def_cfa_register 7
 398:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Wait for ongoing TX to complete (e.g. this could be an outgoing ACK) */
 399:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    while(HWREG(RFCORE_XREG_FSMSTAT1) & RFCORE_XREG_FSMSTAT1_TX_ACTIVE);
 1103              		.loc 1 399 0
 1104 04b0 00BF     		nop
 1105              	.L65:
 1106              		.loc 1 399 0 is_stmt 0 discriminator 1
 1107 04b2 0A4B     		ldr	r3, .L68
 1108 04b4 1B68     		ldr	r3, [r3]
 1109 04b6 03F00203 		and	r3, r3, #2
 1110 04ba 002B     		cmp	r3, #0
 1111 04bc F9D1     		bne	.L65
 400:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //CC2538_RF_CSP_ISFLUSHRX();
 401:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 402:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    /* Don't turn off if we are off as this will trigger a Strobe Error */
 403:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    if(HWREG(RFCORE_XREG_RXENABLE) != 0) {
 1112              		.loc 1 403 0 is_stmt 1
 1113 04be 084B     		ldr	r3, .L68+4
 1114 04c0 1B68     		ldr	r3, [r3]
 1115 04c2 002B     		cmp	r3, #0
 1116 04c4 06D0     		beq	.L67
 404:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       CC2538_RF_CSP_ISRFOFF();
 1117              		.loc 1 404 0
 1118 04c6 074B     		ldr	r3, .L68+8
 1119 04c8 EF22     		movs	r2, #239
 1120 04ca 1A60     		str	r2, [r3]
 405:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       //clear fifo isr flag
 406:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       HWREG(RFCORE_SFR_RFIRQF0) = ~(RFCORE_SFR_RFIRQF0_FIFOP|RFCORE_SFR_RFIRQF0_RXPKTDONE);
 1121              		.loc 1 406 0
 1122 04cc 064B     		ldr	r3, .L68+12
 1123 04ce 6FF04402 		mvn	r2, #68
 1124 04d2 1A60     		str	r2, [r3]
 1125              	.L67:
 407:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 408:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 1126              		.loc 1 408 0
 1127 04d4 00BF     		nop
 1128 04d6 BD46     		mov	sp, r7
 1129              		.cfi_def_cfa_register 13
 1130              		@ sp needed
 1131 04d8 80BC     		pop	{r7}
 1132              		.cfi_restore 7
 1133              		.cfi_def_cfa_offset 0
 1134 04da 7047     		bx	lr
 1135              	.L69:
 1136              		.align	2
 1137              	.L68:
 1138 04dc 4C860840 		.word	1074300492
 1139 04e0 2C860840 		.word	1074300460
 1140 04e4 38880840 		.word	1074300984
 1141 04e8 34880840 		.word	1074300980
 1142              		.cfi_endproc
 1143              	.LFE17:
 1145              		.align	2
 1146              		.global	radio_isr
 1147              		.thumb
 1148              		.thumb_func
 1150              	radio_isr:
 1151              	.LFB18:
 409:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 410:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** //=========================== callbacks =======================================
 411:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 412:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** //=========================== interrupt handlers ==============================
 413:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 414:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** /**
 415:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** \brief Stub function for the CC2538.
 416:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 417:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** In MSP430 platforms the CPU status after servicing an interrupt can be managed
 418:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** toggling some bits in a special register, e.g. CPUOFF, LPM1, etc, within the
 419:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** interrupt context itself. By default, after servicing an interrupt the CPU will
 420:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** be off so it makes sense to return a value and enable it if something has
 421:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** happened that needs the scheduler to run (a packet has been received that needs
 422:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** to be processed). Otherwise, the CPU is kept in sleep mode without even
 423:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** reaching the main loop.
 424:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 425:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** In the CC2538, however, the default behaviour is the contrary. After servicing
 426:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** an interrupt the CPU will be on by default and it is the responsability of the
 427:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** main thread to put it back to sleep (which is already done). This means that
 428:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** the scheduler will always be kicked in after servicing an interrupt. This
 429:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** behaviour can be changed by modifying the SLEEPEXIT field in the SYSCTRL
 430:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** regiser (see page 131 of the CC2538 manual).
 431:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** */
 432:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** kick_scheduler_t radio_isr() {
 1152              		.loc 1 432 0
 1153              		.cfi_startproc
 1154              		@ args = 0, pretend = 0, frame = 0
 1155              		@ frame_needed = 1, uses_anonymous_args = 0
 1156              		@ link register save eliminated.
 1157 04ec 80B4     		push	{r7}
 1158              		.cfi_def_cfa_offset 4
 1159              		.cfi_offset 7, -4
 1160 04ee 00AF     		add	r7, sp, #0
 1161              		.cfi_def_cfa_register 7
 433:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    return DO_NOT_KICK_SCHEDULER;
 1162              		.loc 1 433 0
 1163 04f0 0023     		movs	r3, #0
 434:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 1164              		.loc 1 434 0
 1165 04f2 1846     		mov	r0, r3
 1166 04f4 BD46     		mov	sp, r7
 1167              		.cfi_def_cfa_register 13
 1168              		@ sp needed
 1169 04f6 80BC     		pop	{r7}
 1170              		.cfi_restore 7
 1171              		.cfi_def_cfa_offset 0
 1172 04f8 7047     		bx	lr
 1173              		.cfi_endproc
 1174              	.LFE18:
 1176 04fa 00BF     		.align	2
 1177              		.global	radio_isr_internal
 1178              		.thumb
 1179              		.thumb_func
 1181              	radio_isr_internal:
 1182              	.LFB19:
 435:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 436:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_isr_internal(void) {
 1183              		.loc 1 436 0
 1184              		.cfi_startproc
 1185              		@ args = 0, pretend = 0, frame = 8
 1186              		@ frame_needed = 1, uses_anonymous_args = 0
 1187 04fc 80B5     		push	{r7, lr}
 1188              		.cfi_def_cfa_offset 8
 1189              		.cfi_offset 7, -8
 1190              		.cfi_offset 14, -4
 1191 04fe 82B0     		sub	sp, sp, #8
 1192              		.cfi_def_cfa_offset 16
 1193 0500 00AF     		add	r7, sp, #0
 1194              		.cfi_def_cfa_register 7
 437:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    volatile PORT_TIMER_WIDTH capturedTime;
 438:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    uint8_t  irq_status0,irq_status1;
 439:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 440:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    debugpins_isr_set();
 1195              		.loc 1 440 0
 1196 0502 FFF7FEFF 		bl	debugpins_isr_set
 441:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 442:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // capture the time
 443:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    capturedTime = sctimer_readCounter();
 1197              		.loc 1 443 0
 1198 0506 FFF7FEFF 		bl	sctimer_readCounter
 1199 050a 0346     		mov	r3, r0
 1200 050c 3B60     		str	r3, [r7]
 444:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 445:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // reading IRQ_STATUS
 446:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    irq_status0 = HWREG(RFCORE_SFR_RFIRQF0);
 1201              		.loc 1 446 0
 1202 050e 344B     		ldr	r3, .L82
 1203 0510 1B68     		ldr	r3, [r3]
 1204 0512 FB71     		strb	r3, [r7, #7]
 447:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    irq_status1 = HWREG(RFCORE_SFR_RFIRQF1);
 1205              		.loc 1 447 0
 1206 0514 334B     		ldr	r3, .L82+4
 1207 0516 1B68     		ldr	r3, [r3]
 1208 0518 BB71     		strb	r3, [r7, #6]
 448:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 449:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    IntPendClear(INT_RFCORERTX);
 1209              		.loc 1 449 0
 1210 051a 9D20     		movs	r0, #157
 1211 051c FFF7FEFF 		bl	IntPendClear
 450:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 451:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //clear interrupt
 452:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_SFR_RFIRQF0) = 0;
 1212              		.loc 1 452 0
 1213 0520 2F4B     		ldr	r3, .L82
 1214 0522 0022     		movs	r2, #0
 1215 0524 1A60     		str	r2, [r3]
 453:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    HWREG(RFCORE_SFR_RFIRQF1) = 0;
 1216              		.loc 1 453 0
 1217 0526 2F4B     		ldr	r3, .L82+4
 1218 0528 0022     		movs	r2, #0
 1219 052a 1A60     		str	r2, [r3]
 454:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 455:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //STATUS0 Register
 456:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // start of frame event
 457:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    if ((irq_status0 & RFCORE_SFR_RFIRQF0_SFD) == RFCORE_SFR_RFIRQF0_SFD) {
 1220              		.loc 1 457 0
 1221 052c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1222 052e 03F00203 		and	r3, r3, #2
 1223 0532 002B     		cmp	r3, #0
 1224 0534 0FD0     		beq	.L73
 458:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       // change state
 459:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       radio_vars.state = RADIOSTATE_RECEIVING;
 1225              		.loc 1 459 0
 1226 0536 2C4B     		ldr	r3, .L82+8
 1227 0538 0B22     		movs	r2, #11
 1228 053a 1A72     		strb	r2, [r3, #8]
 460:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       if (radio_vars.startFrame_cb!=NULL) {
 1229              		.loc 1 460 0
 1230 053c 2A4B     		ldr	r3, .L82+8
 1231 053e 1B68     		ldr	r3, [r3]
 1232 0540 002B     		cmp	r3, #0
 1233 0542 07D0     		beq	.L74
 461:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          // call the callback
 462:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          radio_vars.startFrame_cb(capturedTime);
 1234              		.loc 1 462 0
 1235 0544 284B     		ldr	r3, .L82+8
 1236 0546 1B68     		ldr	r3, [r3]
 1237 0548 3A68     		ldr	r2, [r7]
 1238 054a 1046     		mov	r0, r2
 1239 054c 9847     		blx	r3
 463:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          debugpins_isr_clr();
 1240              		.loc 1 463 0
 1241 054e FFF7FEFF 		bl	debugpins_isr_clr
 464:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          // kick the OS
 465:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          return;
 1242              		.loc 1 465 0
 1243 0552 42E0     		b	.L72
 1244              	.L74:
 466:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       } else {
 467:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          while(1);
 1245              		.loc 1 467 0 discriminator 1
 1246 0554 FEE7     		b	.L74
 1247              	.L73:
 468:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       }
 469:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 470:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 471:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //or RXDONE is full -- we have a packet.
 472:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    if (((irq_status0 & RFCORE_SFR_RFIRQF0_RXPKTDONE) ==  RFCORE_SFR_RFIRQF0_RXPKTDONE)) {
 1248              		.loc 1 472 0
 1249 0556 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1250 0558 03F04003 		and	r3, r3, #64
 1251 055c 002B     		cmp	r3, #0
 1252 055e 0FD0     		beq	.L76
 473:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       // change state
 474:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       radio_vars.state = RADIOSTATE_TXRX_DONE;
 1253              		.loc 1 474 0
 1254 0560 214B     		ldr	r3, .L82+8
 1255 0562 0C22     		movs	r2, #12
 1256 0564 1A72     		strb	r2, [r3, #8]
 475:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       if (radio_vars.endFrame_cb!=NULL) {
 1257              		.loc 1 475 0
 1258 0566 204B     		ldr	r3, .L82+8
 1259 0568 5B68     		ldr	r3, [r3, #4]
 1260 056a 002B     		cmp	r3, #0
 1261 056c 07D0     		beq	.L77
 476:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          // call the callback
 477:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          radio_vars.endFrame_cb(capturedTime);
 1262              		.loc 1 477 0
 1263 056e 1E4B     		ldr	r3, .L82+8
 1264 0570 5B68     		ldr	r3, [r3, #4]
 1265 0572 3A68     		ldr	r2, [r7]
 1266 0574 1046     		mov	r0, r2
 1267 0576 9847     		blx	r3
 478:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          debugpins_isr_clr();
 1268              		.loc 1 478 0
 1269 0578 FFF7FEFF 		bl	debugpins_isr_clr
 479:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          // kick the OS
 480:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          return;
 1270              		.loc 1 480 0
 1271 057c 2DE0     		b	.L72
 1272              	.L77:
 481:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       } else {
 482:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          while(1);
 1273              		.loc 1 482 0 discriminator 2
 1274 057e FEE7     		b	.L77
 1275              	.L76:
 483:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       }
 484:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 485:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 486:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // or FIFOP is full -- we have a packet.
 487:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    if (((irq_status0 & RFCORE_SFR_RFIRQF0_FIFOP) ==  RFCORE_SFR_RFIRQF0_FIFOP)) {
 1276              		.loc 1 487 0
 1277 0580 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1278 0582 03F00403 		and	r3, r3, #4
 1279 0586 002B     		cmp	r3, #0
 1280 0588 0FD0     		beq	.L78
 488:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       // change state
 489:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       radio_vars.state = RADIOSTATE_TXRX_DONE;
 1281              		.loc 1 489 0
 1282 058a 174B     		ldr	r3, .L82+8
 1283 058c 0C22     		movs	r2, #12
 1284 058e 1A72     		strb	r2, [r3, #8]
 490:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       if (radio_vars.endFrame_cb!=NULL) {
 1285              		.loc 1 490 0
 1286 0590 154B     		ldr	r3, .L82+8
 1287 0592 5B68     		ldr	r3, [r3, #4]
 1288 0594 002B     		cmp	r3, #0
 1289 0596 07D0     		beq	.L79
 491:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          // call the callback
 492:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          radio_vars.endFrame_cb(capturedTime);
 1290              		.loc 1 492 0
 1291 0598 134B     		ldr	r3, .L82+8
 1292 059a 5B68     		ldr	r3, [r3, #4]
 1293 059c 3A68     		ldr	r2, [r7]
 1294 059e 1046     		mov	r0, r2
 1295 05a0 9847     		blx	r3
 493:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          debugpins_isr_clr();
 1296              		.loc 1 493 0
 1297 05a2 FFF7FEFF 		bl	debugpins_isr_clr
 494:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          // kick the OS
 495:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          return;
 1298              		.loc 1 495 0
 1299 05a6 18E0     		b	.L72
 1300              	.L79:
 496:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       } else {
 497:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          while(1);
 1301              		.loc 1 497 0 discriminator 3
 1302 05a8 FEE7     		b	.L79
 1303              	.L78:
 498:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       }
 499:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 500:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 501:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    //STATUS1 Register
 502:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    // end of frame event --either end of tx .
 503:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    if (((irq_status1 & RFCORE_SFR_RFIRQF1_TXDONE) == RFCORE_SFR_RFIRQF1_TXDONE)) {
 1304              		.loc 1 503 0
 1305 05aa BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 1306 05ac 03F00203 		and	r3, r3, #2
 1307 05b0 002B     		cmp	r3, #0
 1308 05b2 0FD0     		beq	.L80
 504:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       // change state
 505:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       radio_vars.state = RADIOSTATE_TXRX_DONE;
 1309              		.loc 1 505 0
 1310 05b4 0C4B     		ldr	r3, .L82+8
 1311 05b6 0C22     		movs	r2, #12
 1312 05b8 1A72     		strb	r2, [r3, #8]
 506:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       if (radio_vars.endFrame_cb!=NULL) {
 1313              		.loc 1 506 0
 1314 05ba 0B4B     		ldr	r3, .L82+8
 1315 05bc 5B68     		ldr	r3, [r3, #4]
 1316 05be 002B     		cmp	r3, #0
 1317 05c0 07D0     		beq	.L81
 507:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          // call the callback
 508:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          radio_vars.endFrame_cb(capturedTime);
 1318              		.loc 1 508 0
 1319 05c2 094B     		ldr	r3, .L82+8
 1320 05c4 5B68     		ldr	r3, [r3, #4]
 1321 05c6 3A68     		ldr	r2, [r7]
 1322 05c8 1046     		mov	r0, r2
 1323 05ca 9847     		blx	r3
 509:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          debugpins_isr_clr();
 1324              		.loc 1 509 0
 1325 05cc FFF7FEFF 		bl	debugpins_isr_clr
 510:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          // kick the OS
 511:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          return;
 1326              		.loc 1 511 0
 1327 05d0 03E0     		b	.L72
 1328              	.L81:
 512:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       } else {
 513:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****          while(1);
 1329              		.loc 1 513 0 discriminator 4
 1330 05d2 FEE7     		b	.L81
 1331              	.L80:
 514:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       }
 515:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 516:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    debugpins_isr_clr();
 1332              		.loc 1 516 0
 1333 05d4 FFF7FEFF 		bl	debugpins_isr_clr
 517:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 518:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    return;
 1334              		.loc 1 518 0
 1335 05d8 00BF     		nop
 1336              	.L72:
 519:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 1337              		.loc 1 519 0
 1338 05da 0837     		adds	r7, r7, #8
 1339              		.cfi_def_cfa_offset 8
 1340 05dc BD46     		mov	sp, r7
 1341              		.cfi_def_cfa_register 13
 1342              		@ sp needed
 1343 05de 80BD     		pop	{r7, pc}
 1344              	.L83:
 1345              		.align	2
 1346              	.L82:
 1347 05e0 34880840 		.word	1074300980
 1348 05e4 30880840 		.word	1074300976
 1349 05e8 00000000 		.word	radio_vars
 1350              		.cfi_endproc
 1351              	.LFE19:
 1353              		.align	2
 1354              		.global	radio_error_isr
 1355              		.thumb
 1356              		.thumb_func
 1358              	radio_error_isr:
 1359              	.LFB20:
 520:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** 
 521:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** void radio_error_isr(void){
 1360              		.loc 1 521 0
 1361              		.cfi_startproc
 1362              		@ args = 0, pretend = 0, frame = 8
 1363              		@ frame_needed = 1, uses_anonymous_args = 0
 1364              		@ link register save eliminated.
 1365 05ec 80B4     		push	{r7}
 1366              		.cfi_def_cfa_offset 4
 1367              		.cfi_offset 7, -4
 1368 05ee 83B0     		sub	sp, sp, #12
 1369              		.cfi_def_cfa_offset 16
 1370 05f0 00AF     		add	r7, sp, #0
 1371              		.cfi_def_cfa_register 7
 522:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    uint8_t rferrm;
 523:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 524:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    rferrm = (uint8_t)HWREG(RFCORE_XREG_RFERRM);
 1372              		.loc 1 524 0
 1373 05f2 0A4B     		ldr	r3, .L87
 1374 05f4 1B68     		ldr	r3, [r3]
 1375 05f6 FB71     		strb	r3, [r7, #7]
 525:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    
 526:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    if ((HWREG(RFCORE_XREG_RFERRM) & (((0x02)<<RFCORE_XREG_RFERRM_RFERRM_S)&RFCORE_XREG_RFERRM_RFERR
 1376              		.loc 1 526 0
 1377 05f8 084B     		ldr	r3, .L87
 1378 05fa 1A68     		ldr	r2, [r3]
 1379 05fc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1380 05fe 1340     		ands	r3, r3, r2
 1381 0600 03F00203 		and	r3, r3, #2
 1382 0604 002B     		cmp	r3, #0
 1383 0606 03D0     		beq	.L86
 527:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    {
 528:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       HWREG(RFCORE_XREG_RFERRM) = ~(((0x02)<<RFCORE_XREG_RFERRM_RFERRM_S)&RFCORE_XREG_RFERRM_RFERRM
 1384              		.loc 1 528 0
 1385 0608 044B     		ldr	r3, .L87
 1386 060a 6FF00202 		mvn	r2, #2
 1387 060e 1A60     		str	r2, [r3]
 1388              	.L86:
 529:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****       //poipoi  -- todo handle error
 530:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c ****    }
 531:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/radio.c **** }
 1389              		.loc 1 531 0
 1390 0610 00BF     		nop
 1391 0612 0C37     		adds	r7, r7, #12
 1392              		.cfi_def_cfa_offset 4
 1393 0614 BD46     		mov	sp, r7
 1394              		.cfi_def_cfa_register 13
 1395              		@ sp needed
 1396 0616 80BC     		pop	{r7}
 1397              		.cfi_restore 7
 1398              		.cfi_def_cfa_offset 0
 1399 0618 7047     		bx	lr
 1400              	.L88:
 1401 061a 00BF     		.align	2
 1402              	.L87:
 1403 061c 94860840 		.word	1074300564
 1404              		.cfi_endproc
 1405              	.LFE20:
 1407              	.Letext0:
 1408              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 1409              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 1410              		.file 4 "bsp/boards/board.h"
 1411              		.file 5 "bsp/boards/radio.h"
 1412              		.file 6 "bsp/boards/openmote-cc2538/board_info.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 radio.c
     /tmp/ccRMZy0x.s:20     .rodata:0000000000000000 $d
     /tmp/ccRMZy0x.s:23     .rodata:0000000000000000 rreg_uriquery
     /tmp/ccRMZy0x.s:28     .rodata:0000000000000008 infoBoardname
     /tmp/ccRMZy0x.s:33     .rodata:0000000000000010 infouCName
     /tmp/ccRMZy0x.s:38     .rodata:0000000000000018 infoRadioName
                            *COM*:000000000000000c radio_vars
     /tmp/ccRMZy0x.s:42     .text:0000000000000000 $t
     /tmp/ccRMZy0x.s:47     .text:0000000000000000 radio_init
     /tmp/ccRMZy0x.s:1091   .text:00000000000004ac radio_off
     /tmp/ccRMZy0x.s:1012   .text:0000000000000474 disable_radio_interrupts
     /tmp/ccRMZy0x.s:197    .text:00000000000000e0 $d
     /tmp/ccRMZy0x.s:1181   .text:00000000000004fc radio_isr_internal
     /tmp/ccRMZy0x.s:1358   .text:00000000000005ec radio_error_isr
     /tmp/ccRMZy0x.s:223    .text:000000000000013c $t
     /tmp/ccRMZy0x.s:228    .text:000000000000013c radio_setStartFrameCb
     /tmp/ccRMZy0x.s:261    .text:0000000000000154 $d
     /tmp/ccRMZy0x.s:265    .text:0000000000000158 $t
     /tmp/ccRMZy0x.s:270    .text:0000000000000158 radio_setEndFrameCb
     /tmp/ccRMZy0x.s:303    .text:0000000000000170 $d
     /tmp/ccRMZy0x.s:307    .text:0000000000000174 $t
     /tmp/ccRMZy0x.s:312    .text:0000000000000174 radio_reset
     /tmp/ccRMZy0x.s:365    .text:00000000000001b4 $d
     /tmp/ccRMZy0x.s:371    .text:00000000000001c0 $t
     /tmp/ccRMZy0x.s:376    .text:00000000000001c0 radio_setFrequency
     /tmp/ccRMZy0x.s:436    .text:0000000000000204 $d
     /tmp/ccRMZy0x.s:441    .text:000000000000020c $t
     /tmp/ccRMZy0x.s:446    .text:000000000000020c radio_rfOn
     /tmp/ccRMZy0x.s:475    .text:0000000000000218 radio_rfOff
     /tmp/ccRMZy0x.s:509    .text:000000000000023c $d
     /tmp/ccRMZy0x.s:513    .text:0000000000000240 $t
     /tmp/ccRMZy0x.s:518    .text:0000000000000240 radio_loadPacket
     /tmp/ccRMZy0x.s:603    .text:00000000000002a8 $d
     /tmp/ccRMZy0x.s:610    .text:00000000000002b8 $t
     /tmp/ccRMZy0x.s:615    .text:00000000000002b8 radio_txEnable
     /tmp/ccRMZy0x.s:645    .text:00000000000002d4 $d
     /tmp/ccRMZy0x.s:649    .text:00000000000002d8 $t
     /tmp/ccRMZy0x.s:654    .text:00000000000002d8 radio_txNow
     /tmp/ccRMZy0x.s:966    .text:0000000000000448 enable_radio_interrupts
     /tmp/ccRMZy0x.s:715    .text:000000000000031c $d
     /tmp/ccRMZy0x.s:721    .text:0000000000000328 $t
     /tmp/ccRMZy0x.s:726    .text:0000000000000328 radio_rxEnable
     /tmp/ccRMZy0x.s:756    .text:0000000000000344 $d
     /tmp/ccRMZy0x.s:760    .text:0000000000000348 $t
     /tmp/ccRMZy0x.s:765    .text:0000000000000348 radio_rxNow
     /tmp/ccRMZy0x.s:805    .text:0000000000000374 $d
     /tmp/ccRMZy0x.s:810    .text:000000000000037c $t
     /tmp/ccRMZy0x.s:815    .text:000000000000037c radio_getReceivedFrame
     /tmp/ccRMZy0x.s:956    .text:0000000000000440 $d
     /tmp/ccRMZy0x.s:961    .text:0000000000000448 $t
     /tmp/ccRMZy0x.s:1002   .text:000000000000046c $d
     /tmp/ccRMZy0x.s:1007   .text:0000000000000474 $t
     /tmp/ccRMZy0x.s:1044   .text:000000000000048c $d
     /tmp/ccRMZy0x.s:1049   .text:0000000000000494 $t
     /tmp/ccRMZy0x.s:1054   .text:0000000000000494 radio_on
     /tmp/ccRMZy0x.s:1082   .text:00000000000004a8 $d
     /tmp/ccRMZy0x.s:1086   .text:00000000000004ac $t
     /tmp/ccRMZy0x.s:1138   .text:00000000000004dc $d
     /tmp/ccRMZy0x.s:1145   .text:00000000000004ec $t
     /tmp/ccRMZy0x.s:1150   .text:00000000000004ec radio_isr
     /tmp/ccRMZy0x.s:1347   .text:00000000000005e0 $d
     /tmp/ccRMZy0x.s:1353   .text:00000000000005ec $t
     /tmp/ccRMZy0x.s:1403   .text:000000000000061c $d
                     .debug_frame:0000000000000010 $d
                           .group:0000000000000000 wm4.0.8e445c0106ab795ab4704214cba6f089
                           .group:0000000000000000 wm4._newlib_version.h.4.ad342815780c8db09778091a421b5b5b
                           .group:0000000000000000 wm4.newlib.h.21.0b9fc973bddc8b940a18de2b6ea6adc7
                           .group:0000000000000000 wm4.features.h.22.5cdadbb3efe495d1c9e38350b8c376c7
                           .group:0000000000000000 wm4.config.h.219.65a553ab5bef5482f0d7880b0d33015e
                           .group:0000000000000000 wm4._ansi.h.23.9f8fcfa20193763fcf364fb91705c94b
                           .group:0000000000000000 wm4.stdio.h.31.7c0e28c411445f3f9c5b11accf882760
                           .group:0000000000000000 wm4._default_types.h.6.35ee9e747940367bf2a634907d1c2382
                           .group:0000000000000000 wm4.stddef.h.187.2ff233552538c6ff9b8575ca8ea52cb3
                           .group:0000000000000000 wm4.cdefs.h.47.ba62642086d429b4f95c2381cae1c0aa
                           .group:0000000000000000 wm4.stddef.h.39.ec95e8feac892e292b69dc7ae75b0d64
                           .group:0000000000000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:0000000000000000 wm4.lock.h.2.9bc98482741e5e2a9450b12934a684ea
                           .group:0000000000000000 wm4._types.h.125.5cf8a495f1f7ef36777ad868a1e32068
                           .group:0000000000000000 wm4.stddef.h.161.5349cb105733e8777bfb0cf53c4e3f34
                           .group:0000000000000000 wm4._types.h.183.c226d164ceca1f2ecb9ae9360c54a098
                           .group:0000000000000000 wm4.reent.h.17.850ac0a908956e5fb788be1b80de2f32
                           .group:0000000000000000 wm4.types.h.40.e8c16e7ec36ba55f133d0616070e25fc
                           .group:0000000000000000 wm4._stdint.h.10.7a5f60e6741af4a5594a3867d347e1f9
                           .group:0000000000000000 wm4._endian.h.31.65a10590763c3dde1ac4a7f66d7d4891
                           .group:0000000000000000 wm4.endian.h.9.49f3a4695c1b61e8a0808de3c4a106cb
                           .group:0000000000000000 wm4._timeval.h.30.0e8bfd94e85db17dda3286ee81496fe6
                           .group:0000000000000000 wm4.timespec.h.41.d855182eb0e690443ab8651bcedca6e1
                           .group:0000000000000000 wm4.select.h.30.bbece7fa40993a78092dcc5805132560
                           .group:0000000000000000 wm4.types.h.69.ed3eae3cf73030a737515151ebcab7a1
                           .group:0000000000000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:0000000000000000 wm4.stdio.h.68.31a8302a31b2d69e32e3d097e95b6967
                           .group:0000000000000000 wm4.string.h.8.c4b8571ce60dff2817f43fec8b86aecd
                           .group:0000000000000000 wm4.stddef.h.161.19e15733342b50ead2919490b095303e
                           .group:0000000000000000 wm4.hw_ana_regs.h.39.b3fa3d347eb2140d9de10a0f7cf25603
                           .group:0000000000000000 wm4.hw_ints.h.42.85b9479f2be35b086f1bb7cbb15bc097
                           .group:0000000000000000 wm4.hw_rfcore_sfr.h.39.02e95b929110002747bf7464de694b0d
                           .group:0000000000000000 wm4.hw_rfcore_xreg.h.39.6b38b9cec070780b17fcef77b2e7e09d
                           .group:0000000000000000 wm4._intsup.h.10.b82bf99f69d6a5c085fc866de0d3eb9b
                           .group:0000000000000000 wm4.stdint.h.23.373a9d32a9e4c2e88fd347156532d281
                           .group:0000000000000000 wm4.stdbool.h.29.07dce69c3b78884144b7f7bd19483461
                           .group:0000000000000000 wm4.hw_types.h.67.b10589a0806dcc2d274d6fab6b736519
                           .group:0000000000000000 wm4.interrupt.h.41.272fc4ec0e276feb439e7974d0f77eaf
                           .group:0000000000000000 wm4.sys_ctrl.h.41.c6bbd4dace326d685c1afa45bc1ba1e2
                           .group:0000000000000000 wm4.board_info.h.22.1291259c351bc018e4d4402148b3c6db
                           .group:0000000000000000 wm4.toolchain_defs.h.2.1de8df52ab2567aa1aa0a288d2325900
                           .group:0000000000000000 wm4.cc2538rf.h.9.f135d38e73b9b9b6b4b2ed2568d3e212
                           .group:0000000000000000 wm4.leds.h.2.746f2c4bd224f28046dfa242de7e3f3d

UNDEFINED SYMBOLS
memset
IntRegister
IntEnable
debugpins_radio_clr
leds_radio_off
debugpins_radio_set
leds_radio_on
debugpins_isr_set
sctimer_readCounter
IntPendClear
debugpins_isr_clr
