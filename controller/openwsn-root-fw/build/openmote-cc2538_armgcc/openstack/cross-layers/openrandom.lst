   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"openrandom.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.rodata
  20              		.align	2
  23              	rreg_uriquery:
  24 0000 683D7563 		.ascii	"h=ucb\000"
  24      6200
  25 0006 0000     		.align	2
  28              	infoBoardname:
  29 0008 43433235 		.ascii	"CC2538\000"
  29      333800
  30 000f 00       		.align	2
  33              	infouCName:
  34 0010 43433235 		.ascii	"CC2538\000"
  34      333800
  35 0017 00       		.align	2
  38              	infoRadioName:
  39 0018 43433235 		.ascii	"CC2538 SoC\000"
  39      33382053 
  39      6F4300
  40 0023 00       		.align	2
  43              	infoStackName:
  44 0024 4F70656E 		.ascii	"OpenWSN \000"
  44      57534E20 
  44      00
  45 002d 000000   		.align	2
  48              	linklocalprefix:
  49 0030 FE       		.byte	-2
  50 0031 80       		.byte	-128
  51 0032 00       		.byte	0
  52 0033 00       		.byte	0
  53 0034 00       		.byte	0
  54 0035 00       		.byte	0
  55 0036 00       		.byte	0
  56 0037 00       		.byte	0
  57              		.comm	random_vars,2,4
  58              		.text
  59              		.align	2
  60              		.global	openrandom_init
  61              		.thumb
  62              		.thumb_func
  64              	openrandom_init:
  65              	.LFB0:
  66              		.file 1 "build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c"
   1:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** #include "opendefs.h"
   2:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** #include "openrandom.h"
   3:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** #include "idmanager.h"
   4:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** 
   5:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** //=========================== variables =======================================
   6:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** 
   7:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** random_vars_t random_vars;
   8:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** 
   9:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** //=========================== prototypes ======================================
  10:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** 
  11:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** //=========================== public ==========================================
  12:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** 
  13:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** void openrandom_init() {
  67              		.loc 1 13 0
  68              		.cfi_startproc
  69              		@ args = 0, pretend = 0, frame = 0
  70              		@ frame_needed = 1, uses_anonymous_args = 0
  71 0000 80B5     		push	{r7, lr}
  72              		.cfi_def_cfa_offset 8
  73              		.cfi_offset 7, -8
  74              		.cfi_offset 14, -4
  75 0002 00AF     		add	r7, sp, #0
  76              		.cfi_def_cfa_register 7
  14:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****    // seed the random number generator with the last 2 bytes of the MAC address
  15:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****    random_vars.shift_reg  = 0;
  77              		.loc 1 15 0
  78 0004 0E4B     		ldr	r3, .L2
  79 0006 0022     		movs	r2, #0
  80 0008 1A80     		strh	r2, [r3]	@ movhi
  16:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****    random_vars.shift_reg += idmanager_getMyID(ADDR_16B)->addr_16b[0]*256;
  81              		.loc 1 16 0
  82 000a 0120     		movs	r0, #1
  83 000c FFF7FEFF 		bl	idmanager_getMyID
  84 0010 0346     		mov	r3, r0
  85 0012 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
  86 0014 1902     		lsls	r1, r3, #8
  87 0016 0A4B     		ldr	r3, .L2
  88 0018 1A88     		ldrh	r2, [r3]
  89 001a 8BB2     		uxth	r3, r1
  90 001c 1344     		add	r3, r3, r2
  91 001e 9AB2     		uxth	r2, r3
  92 0020 074B     		ldr	r3, .L2
  93 0022 1A80     		strh	r2, [r3]	@ movhi
  17:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****    random_vars.shift_reg += idmanager_getMyID(ADDR_16B)->addr_16b[1];
  94              		.loc 1 17 0
  95 0024 0120     		movs	r0, #1
  96 0026 FFF7FEFF 		bl	idmanager_getMyID
  97 002a 0346     		mov	r3, r0
  98 002c 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
  99 002e 044B     		ldr	r3, .L2
 100 0030 1A88     		ldrh	r2, [r3]
 101 0032 8BB2     		uxth	r3, r1
 102 0034 1344     		add	r3, r3, r2
 103 0036 9AB2     		uxth	r2, r3
 104 0038 014B     		ldr	r3, .L2
 105 003a 1A80     		strh	r2, [r3]	@ movhi
  18:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** }
 106              		.loc 1 18 0
 107 003c 00BF     		nop
 108 003e 80BD     		pop	{r7, pc}
 109              	.L3:
 110              		.align	2
 111              	.L2:
 112 0040 00000000 		.word	random_vars
 113              		.cfi_endproc
 114              	.LFE0:
 116              		.align	2
 117              		.global	openrandom_get16b
 118              		.thumb
 119              		.thumb_func
 121              	openrandom_get16b:
 122              	.LFB1:
  19:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** 
  20:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** uint16_t openrandom_get16b() {
 123              		.loc 1 20 0
 124              		.cfi_startproc
 125              		@ args = 0, pretend = 0, frame = 8
 126              		@ frame_needed = 1, uses_anonymous_args = 0
 127              		@ link register save eliminated.
 128 0044 80B4     		push	{r7}
 129              		.cfi_def_cfa_offset 4
 130              		.cfi_offset 7, -4
 131 0046 83B0     		sub	sp, sp, #12
 132              		.cfi_def_cfa_offset 16
 133 0048 00AF     		add	r7, sp, #0
 134              		.cfi_def_cfa_register 7
  21:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****    uint8_t  i;
  22:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****    uint16_t random_value;
  23:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****    random_value = 0;
 135              		.loc 1 23 0
 136 004a 0023     		movs	r3, #0
 137 004c BB80     		strh	r3, [r7, #4]	@ movhi
  24:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****    for(i=0;i<16;i++) {
 138              		.loc 1 24 0
 139 004e 0023     		movs	r3, #0
 140 0050 FB71     		strb	r3, [r7, #7]
 141 0052 26E0     		b	.L5
 142              	.L6:
  25:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****       // Galois shift register
  26:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****       // taps: 16 14 13 11
  27:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****       // characteristic polynomial: x^16 + x^14 + x^13 + x^11 + 1
  28:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****       random_value          |= (random_vars.shift_reg & 0x01)<<i;
 143              		.loc 1 28 0 discriminator 3
 144 0054 174B     		ldr	r3, .L8
 145 0056 1B88     		ldrh	r3, [r3]
 146 0058 03F00102 		and	r2, r3, #1
 147 005c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 148 005e 02FA03F3 		lsl	r3, r2, r3
 149 0062 1AB2     		sxth	r2, r3
 150 0064 B7F90430 		ldrsh	r3, [r7, #4]
 151 0068 1343     		orrs	r3, r3, r2
 152 006a 1BB2     		sxth	r3, r3
 153 006c BB80     		strh	r3, [r7, #4]	@ movhi
  29:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****       random_vars.shift_reg  = (random_vars.shift_reg>>1)^(-(int16_t)(random_vars.shift_reg & 1)&0x
 154              		.loc 1 29 0 discriminator 3
 155 006e 114B     		ldr	r3, .L8
 156 0070 1B88     		ldrh	r3, [r3]
 157 0072 5B08     		lsrs	r3, r3, #1
 158 0074 9BB2     		uxth	r3, r3
 159 0076 1AB2     		sxth	r2, r3
 160 0078 0E4B     		ldr	r3, .L8
 161 007a 1B88     		ldrh	r3, [r3]
 162 007c 03F00103 		and	r3, r3, #1
 163 0080 9BB2     		uxth	r3, r3
 164 0082 5B42     		negs	r3, r3
 165 0084 9BB2     		uxth	r3, r3
 166 0086 1BB2     		sxth	r3, r3
 167 0088 23F49743 		bic	r3, r3, #19328
 168 008c 23F07F03 		bic	r3, r3, #127
 169 0090 1BB2     		sxth	r3, r3
 170 0092 5340     		eors	r3, r3, r2
 171 0094 1BB2     		sxth	r3, r3
 172 0096 9AB2     		uxth	r2, r3
 173 0098 064B     		ldr	r3, .L8
 174 009a 1A80     		strh	r2, [r3]	@ movhi
  24:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****    for(i=0;i<16;i++) {
 175              		.loc 1 24 0 discriminator 3
 176 009c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 177 009e 0133     		adds	r3, r3, #1
 178 00a0 FB71     		strb	r3, [r7, #7]
 179              	.L5:
  24:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****    for(i=0;i<16;i++) {
 180              		.loc 1 24 0 is_stmt 0 discriminator 1
 181 00a2 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 182 00a4 0F2B     		cmp	r3, #15
 183 00a6 D5D9     		bls	.L6
  30:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****    }
  31:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c ****    return random_value;
 184              		.loc 1 31 0 is_stmt 1
 185 00a8 BB88     		ldrh	r3, [r7, #4]
  32:build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.c **** }
 186              		.loc 1 32 0
 187 00aa 1846     		mov	r0, r3
 188 00ac 0C37     		adds	r7, r7, #12
 189              		.cfi_def_cfa_offset 4
 190 00ae BD46     		mov	sp, r7
 191              		.cfi_def_cfa_register 13
 192              		@ sp needed
 193 00b0 80BC     		pop	{r7}
 194              		.cfi_restore 7
 195              		.cfi_def_cfa_offset 0
 196 00b2 7047     		bx	lr
 197              	.L9:
 198              		.align	2
 199              	.L8:
 200 00b4 00000000 		.word	random_vars
 201              		.cfi_endproc
 202              	.LFE1:
 204              	.Letext0:
 205              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 206              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 207              		.file 4 "build/openmote-cc2538_armgcc/openstack/cross-layers/openrandom.h"
 208              		.file 5 "bsp/boards/openmote-cc2538/board_info.h"
 209              		.file 6 "inc/opendefs.h"
 210              		.file 7 "build/openmote-cc2538_armgcc/openstack/cross-layers/idmanager.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 openrandom.c
     /tmp/ccHsqtFV.s:20     .rodata:0000000000000000 $d
     /tmp/ccHsqtFV.s:23     .rodata:0000000000000000 rreg_uriquery
     /tmp/ccHsqtFV.s:28     .rodata:0000000000000008 infoBoardname
     /tmp/ccHsqtFV.s:33     .rodata:0000000000000010 infouCName
     /tmp/ccHsqtFV.s:38     .rodata:0000000000000018 infoRadioName
     /tmp/ccHsqtFV.s:43     .rodata:0000000000000024 infoStackName
     /tmp/ccHsqtFV.s:48     .rodata:0000000000000030 linklocalprefix
                            *COM*:0000000000000002 random_vars
     /tmp/ccHsqtFV.s:59     .text:0000000000000000 $t
     /tmp/ccHsqtFV.s:64     .text:0000000000000000 openrandom_init
     /tmp/ccHsqtFV.s:112    .text:0000000000000040 $d
     /tmp/ccHsqtFV.s:116    .text:0000000000000044 $t
     /tmp/ccHsqtFV.s:121    .text:0000000000000044 openrandom_get16b
     /tmp/ccHsqtFV.s:200    .text:00000000000000b4 $d
                     .debug_frame:0000000000000010 $d
                           .group:0000000000000000 wm4.0.8e445c0106ab795ab4704214cba6f089
                           .group:0000000000000000 wm4._newlib_version.h.4.ad342815780c8db09778091a421b5b5b
                           .group:0000000000000000 wm4.features.h.33.d97f2d646536517df901beeb5b9993f5
                           .group:0000000000000000 wm4._default_types.h.15.933e8edd27a65e0b69af4a865eb623d2
                           .group:0000000000000000 wm4._intsup.h.10.b82bf99f69d6a5c085fc866de0d3eb9b
                           .group:0000000000000000 wm4._stdint.h.10.7a5f60e6741af4a5594a3867d347e1f9
                           .group:0000000000000000 wm4.stdint.h.23.373a9d32a9e4c2e88fd347156532d281
                           .group:0000000000000000 wm4.toolchain_defs.h.2.e5fd326231d01413e5361944b26cde07
                           .group:0000000000000000 wm4.newlib.h.8.36dd0417407b0a085bc04c49cc2ed13a
                           .group:0000000000000000 wm4.config.h.219.65a553ab5bef5482f0d7880b0d33015e
                           .group:0000000000000000 wm4._ansi.h.23.9f8fcfa20193763fcf364fb91705c94b
                           .group:0000000000000000 wm4.stddef.h.39.a38874c8f8a57e66301090908ec2a69f
                           .group:0000000000000000 wm4.lock.h.2.9bc98482741e5e2a9450b12934a684ea
                           .group:0000000000000000 wm4._types.h.125.5cf8a495f1f7ef36777ad868a1e32068
                           .group:0000000000000000 wm4.stddef.h.161.5349cb105733e8777bfb0cf53c4e3f34
                           .group:0000000000000000 wm4._types.h.183.c226d164ceca1f2ecb9ae9360c54a098
                           .group:0000000000000000 wm4.reent.h.17.850ac0a908956e5fb788be1b80de2f32
                           .group:0000000000000000 wm4.cdefs.h.47.ba62642086d429b4f95c2381cae1c0aa
                           .group:0000000000000000 wm4.string.h.15.dab3980bf35408a4c507182805e2de3a
                           .group:0000000000000000 wm4.stddef.h.161.19e15733342b50ead2919490b095303e
                           .group:0000000000000000 wm4.stdbool.h.29.07dce69c3b78884144b7f7bd19483461
                           .group:0000000000000000 wm4.hw_types.h.67.b10589a0806dcc2d274d6fab6b736519
                           .group:0000000000000000 wm4.interrupt.h.41.272fc4ec0e276feb439e7974d0f77eaf
                           .group:0000000000000000 wm4.board_info.h.22.1291259c351bc018e4d4402148b3c6db
                           .group:0000000000000000 wm4.opendefs.h.23.47191652995b7fa35f12da40c3552cda
                           .group:0000000000000000 wm4.idmanager.h.2.8c0e2159b32ef3125cbb1e984805cbfe

UNDEFINED SYMBOLS
idmanager_getMyID
