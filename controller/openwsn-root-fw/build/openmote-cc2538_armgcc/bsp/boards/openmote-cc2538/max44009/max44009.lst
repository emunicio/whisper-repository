   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"max44009.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.rodata
  20              		.align	2
  21              	.LC0:
  22 0000 01       		.byte	1
  23 0001 02       		.byte	2
  24 0002 05       		.byte	5
  25 0003 06       		.byte	6
  26 0004 07       		.byte	7
  27 0005 000000   		.align	2
  28              	.LC1:
  29 0008 00       		.byte	0
  30 0009 43       		.byte	67
  31 000a FF       		.byte	-1
  32 000b 00       		.byte	0
  33 000c FF       		.byte	-1
  34              		.text
  35              		.align	2
  36              		.global	max44009_init
  37              		.thumb
  38              		.thumb_func
  40              	max44009_init:
  41              	.LFB0:
  42              		.file 1 "build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c"
   1:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** /**
   2:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****  * \file
   3:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****  *         Device drivers for MAX44009 light sensor in OpenMote-CC2538.
   4:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****  * \author
   5:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****  *         Pere Tuset, OpenMote <peretuset@openmote.com>
   6:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****  */
   7:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
   8:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #include "i2c.h"
   9:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #include "max44009.h"
  10:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  11:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** //=========================== define ==========================================
  12:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  13:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** /* ADDRESS AND NOT_FOUND VALUE */
  14:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_ADDRESS                    ( 0x4A )
  15:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_NOT_FOUND                  ( 0x00 )
  16:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  17:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** /* REGISTER ADDRESSES */
  18:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_INT_STATUS_ADDR            ( 0x00 )    // R
  19:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_INT_ENABLE_ADDR            ( 0x01 )    // R/W
  20:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_ADDR                ( 0x02 )    // R/W
  21:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_LUX_HIGH_ADDR              ( 0x03 )    // R
  22:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_LUX_LOW_ADDR               ( 0x04 )    // R
  23:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_THR_HIGH_ADDR              ( 0x05 )    // R/W
  24:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_THR_LOW_ADDR               ( 0x06 )    // R/W
  25:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_THR_TIMER_ADDR             ( 0x07 )    // R/W
  26:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  27:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** /* INTERRUPT VALUES */
  28:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_INT_STATUS_OFF             ( 0x00 )
  29:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_INT_STATUS_ON              ( 0x01 )
  30:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_INT_DISABLED               ( 0x00 )
  31:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_INT_ENABLED                ( 0x01 )
  32:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  33:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** /* CONFIGURATION VALUES */
  34:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_DEFAULT             ( 0 << 7 )
  35:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_CONTINUOUS          ( 1 << 7 )
  36:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_AUTO                ( 0 << 6 )
  37:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_MANUAL              ( 1 << 6 )
  38:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_CDR_NORMAL          ( 0 << 3 )
  39:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_CDR_DIVIDED         ( 1 << 3 )
  40:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_INTEGRATION_800ms   ( 0 << 0 )
  41:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_INTEGRATION_400ms   ( 1 << 0 )
  42:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_INTEGRATION_200ms   ( 2 << 0 )
  43:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_INTEGRATION_100ms   ( 3 << 0 )
  44:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_INTEGRATION_50ms    ( 4 << 0 )
  45:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_INTEGRATION_25ms    ( 5 << 0 )
  46:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_INTEGRATION_12ms    ( 6 << 0 )
  47:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_CONFIG_INTEGRATION_6ms     ( 7 << 0 )
  48:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  49:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** /* DEFAULT CONFIGURATION */
  50:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_DEFAULT_CONFIGURATION      ( MAX44009_CONFIG_DEFAULT | \
  51:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****                                               MAX44009_CONFIG_AUTO | \
  52:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****                                               MAX44009_CONFIG_CDR_NORMAL | \
  53:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****                                               MAX44009_CONFIG_INTEGRATION_100ms )
  54:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  55:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** /* USER CONFIGURATION */
  56:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** #define MAX44009_USER_CONFIGURATION         ( MAX44009_CONFIG_DEFAULT | \
  57:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****                                               MAX44009_CONFIG_MANUAL | \
  58:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****                                               MAX44009_CONFIG_CDR_NORMAL | \
  59:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****                                               MAX44009_CONFIG_INTEGRATION_100ms )
  60:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  61:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** //=========================== variables =======================================
  62:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  63:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  64:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** //=========================== prototypes ======================================
  65:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  66:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  67:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** //=========================== public ==========================================
  68:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  69:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** void max44009_init(void) {
  43              		.loc 1 69 0
  44              		.cfi_startproc
  45              		@ args = 0, pretend = 0, frame = 24
  46              		@ frame_needed = 1, uses_anonymous_args = 0
  47 0000 80B5     		push	{r7, lr}
  48              		.cfi_def_cfa_offset 8
  49              		.cfi_offset 7, -8
  50              		.cfi_offset 14, -4
  51 0002 86B0     		sub	sp, sp, #24
  52              		.cfi_def_cfa_offset 32
  53 0004 00AF     		add	r7, sp, #0
  54              		.cfi_def_cfa_register 7
  70:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint8_t max44009_address[5] = {MAX44009_INT_ENABLE_ADDR, MAX44009_CONFIG_ADDR, \
  55              		.loc 1 70 0
  56 0006 174A     		ldr	r2, .L4
  57 0008 07F11003 		add	r3, r7, #16
  58 000c 1068     		ldr	r0, [r2]	@ unaligned
  59 000e 1860     		str	r0, [r3]	@ unaligned
  60 0010 1279     		ldrb	r2, [r2, #4]
  61 0012 1A71     		strb	r2, [r3, #4]
  71:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****                                    MAX44009_THR_HIGH_ADDR, MAX44009_THR_LOW_ADDR, \
  72:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****                                    MAX44009_THR_TIMER_ADDR};
  73:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint8_t max44009_value[5]   = {MAX44009_INT_DISABLED, MAX44009_USER_CONFIGURATION, \
  62              		.loc 1 73 0
  63 0014 144A     		ldr	r2, .L4+4
  64 0016 07F10803 		add	r3, r7, #8
  65 001a 1068     		ldr	r0, [r2]	@ unaligned
  66 001c 1860     		str	r0, [r3]	@ unaligned
  67 001e 1279     		ldrb	r2, [r2, #4]
  68 0020 1A71     		strb	r2, [r3, #4]
  74:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****                                    0xFF, 0x00, 0xFF};
  75:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint8_t max44009_data[2];
  76:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint8_t i;
  77:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  78:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     for (i = 0; i < sizeof(max44009_address); i++) {
  69              		.loc 1 78 0
  70 0022 0023     		movs	r3, #0
  71 0024 FB75     		strb	r3, [r7, #23]
  72 0026 16E0     		b	.L2
  73              	.L3:
  79:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****         max44009_data[0] = max44009_address[i];
  74              		.loc 1 79 0 discriminator 3
  75 0028 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
  76 002a 07F11802 		add	r2, r7, #24
  77 002e 1344     		add	r3, r3, r2
  78 0030 13F8083C 		ldrb	r3, [r3, #-8]	@ zero_extendqisi2
  79 0034 3B71     		strb	r3, [r7, #4]
  80:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****         max44009_data[1] = max44009_value[i];
  80              		.loc 1 80 0 discriminator 3
  81 0036 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
  82 0038 07F11802 		add	r2, r7, #24
  83 003c 1344     		add	r3, r3, r2
  84 003e 13F8103C 		ldrb	r3, [r3, #-16]	@ zero_extendqisi2
  85 0042 7B71     		strb	r3, [r7, #5]
  81:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****         i2c_write_bytes(MAX44009_ADDRESS, max44009_data, sizeof(max44009_data));
  86              		.loc 1 81 0 discriminator 3
  87 0044 3B1D     		adds	r3, r7, #4
  88 0046 0222     		movs	r2, #2
  89 0048 1946     		mov	r1, r3
  90 004a 4A20     		movs	r0, #74
  91 004c FFF7FEFF 		bl	i2c_write_bytes
  78:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****         max44009_data[0] = max44009_address[i];
  92              		.loc 1 78 0 discriminator 3
  93 0050 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
  94 0052 0133     		adds	r3, r3, #1
  95 0054 FB75     		strb	r3, [r7, #23]
  96              	.L2:
  78:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****         max44009_data[0] = max44009_address[i];
  97              		.loc 1 78 0 is_stmt 0 discriminator 1
  98 0056 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
  99 0058 042B     		cmp	r3, #4
 100 005a E5D9     		bls	.L3
  82:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     }
  83:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** }
 101              		.loc 1 83 0 is_stmt 1
 102 005c 00BF     		nop
 103 005e 1837     		adds	r7, r7, #24
 104              		.cfi_def_cfa_offset 8
 105 0060 BD46     		mov	sp, r7
 106              		.cfi_def_cfa_register 13
 107              		@ sp needed
 108 0062 80BD     		pop	{r7, pc}
 109              	.L5:
 110              		.align	2
 111              	.L4:
 112 0064 00000000 		.word	.LC0
 113 0068 08000000 		.word	.LC1
 114              		.cfi_endproc
 115              	.LFE0:
 117              		.section	.rodata
 118 000d 000000   		.align	2
 119              	.LC2:
 120 0010 00       		.byte	0
 121 0011 03       		.byte	3
 122 0012 FF       		.byte	-1
 123 0013 00       		.byte	0
 124 0014 FF       		.byte	-1
 125              		.text
 126              		.align	2
 127              		.global	max44009_reset
 128              		.thumb
 129              		.thumb_func
 131              	max44009_reset:
 132              	.LFB1:
  84:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
  85:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** void max44009_reset(void) {
 133              		.loc 1 85 0
 134              		.cfi_startproc
 135              		@ args = 0, pretend = 0, frame = 24
 136              		@ frame_needed = 1, uses_anonymous_args = 0
 137 006c 80B5     		push	{r7, lr}
 138              		.cfi_def_cfa_offset 8
 139              		.cfi_offset 7, -8
 140              		.cfi_offset 14, -4
 141 006e 86B0     		sub	sp, sp, #24
 142              		.cfi_def_cfa_offset 32
 143 0070 00AF     		add	r7, sp, #0
 144              		.cfi_def_cfa_register 7
  86:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint8_t max44009_address[5] = {MAX44009_INT_ENABLE_ADDR, MAX44009_CONFIG_ADDR, \
 145              		.loc 1 86 0
 146 0072 174A     		ldr	r2, .L9
 147 0074 07F11003 		add	r3, r7, #16
 148 0078 1068     		ldr	r0, [r2]	@ unaligned
 149 007a 1860     		str	r0, [r3]	@ unaligned
 150 007c 1279     		ldrb	r2, [r2, #4]
 151 007e 1A71     		strb	r2, [r3, #4]
  87:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****                                    MAX44009_THR_HIGH_ADDR, MAX44009_THR_LOW_ADDR, \
  88:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****                                    MAX44009_THR_TIMER_ADDR};
  89:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint8_t max44009_value[5]   = {MAX44009_INT_DISABLED, MAX44009_DEFAULT_CONFIGURATION, \
 152              		.loc 1 89 0
 153 0080 144A     		ldr	r2, .L9+4
 154 0082 07F10803 		add	r3, r7, #8
 155 0086 1068     		ldr	r0, [r2]	@ unaligned
 156 0088 1860     		str	r0, [r3]	@ unaligned
 157 008a 1279     		ldrb	r2, [r2, #4]
 158 008c 1A71     		strb	r2, [r3, #4]
  90:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****                                    0xFF, 0x00, 0xFF};
  91:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint8_t max44009_data[2];
  92:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint8_t i;
  93:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     
  94:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     for (i = 0; i < sizeof(max44009_address); i++) {
 159              		.loc 1 94 0
 160 008e 0023     		movs	r3, #0
 161 0090 FB75     		strb	r3, [r7, #23]
 162 0092 16E0     		b	.L7
 163              	.L8:
  95:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****         max44009_data[0] = max44009_address[i];
 164              		.loc 1 95 0 discriminator 3
 165 0094 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 166 0096 07F11802 		add	r2, r7, #24
 167 009a 1344     		add	r3, r3, r2
 168 009c 13F8083C 		ldrb	r3, [r3, #-8]	@ zero_extendqisi2
 169 00a0 3B71     		strb	r3, [r7, #4]
  96:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****         max44009_data[1] = max44009_value[i];
 170              		.loc 1 96 0 discriminator 3
 171 00a2 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 172 00a4 07F11802 		add	r2, r7, #24
 173 00a8 1344     		add	r3, r3, r2
 174 00aa 13F8103C 		ldrb	r3, [r3, #-16]	@ zero_extendqisi2
 175 00ae 7B71     		strb	r3, [r7, #5]
  97:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****         i2c_write_bytes(MAX44009_ADDRESS, max44009_data, sizeof(max44009_data));
 176              		.loc 1 97 0 discriminator 3
 177 00b0 3B1D     		adds	r3, r7, #4
 178 00b2 0222     		movs	r2, #2
 179 00b4 1946     		mov	r1, r3
 180 00b6 4A20     		movs	r0, #74
 181 00b8 FFF7FEFF 		bl	i2c_write_bytes
  94:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****         max44009_data[0] = max44009_address[i];
 182              		.loc 1 94 0 discriminator 3
 183 00bc FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 184 00be 0133     		adds	r3, r3, #1
 185 00c0 FB75     		strb	r3, [r7, #23]
 186              	.L7:
  94:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****         max44009_data[0] = max44009_address[i];
 187              		.loc 1 94 0 is_stmt 0 discriminator 1
 188 00c2 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 189 00c4 042B     		cmp	r3, #4
 190 00c6 E5D9     		bls	.L8
  98:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     }
  99:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** }
 191              		.loc 1 99 0 is_stmt 1
 192 00c8 00BF     		nop
 193 00ca 1837     		adds	r7, r7, #24
 194              		.cfi_def_cfa_offset 8
 195 00cc BD46     		mov	sp, r7
 196              		.cfi_def_cfa_register 13
 197              		@ sp needed
 198 00ce 80BD     		pop	{r7, pc}
 199              	.L10:
 200              		.align	2
 201              	.L9:
 202 00d0 00000000 		.word	.LC0
 203 00d4 10000000 		.word	.LC2
 204              		.cfi_endproc
 205              	.LFE1:
 207              		.align	2
 208              		.global	max44009_is_present
 209              		.thumb
 210              		.thumb_func
 212              	max44009_is_present:
 213              	.LFB2:
 100:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
 101:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** uint8_t max44009_is_present(void) {
 214              		.loc 1 101 0
 215              		.cfi_startproc
 216              		@ args = 0, pretend = 0, frame = 8
 217              		@ frame_needed = 1, uses_anonymous_args = 0
 218 00d8 80B5     		push	{r7, lr}
 219              		.cfi_def_cfa_offset 8
 220              		.cfi_offset 7, -8
 221              		.cfi_offset 14, -4
 222 00da 82B0     		sub	sp, sp, #8
 223              		.cfi_def_cfa_offset 16
 224 00dc 00AF     		add	r7, sp, #0
 225              		.cfi_def_cfa_register 7
 102:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint8_t is_present;
 103:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
 104:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     i2c_write_byte(MAX44009_ADDRESS, MAX44009_CONFIG_ADDR);
 226              		.loc 1 104 0
 227 00de 0221     		movs	r1, #2
 228 00e0 4A20     		movs	r0, #74
 229 00e2 FFF7FEFF 		bl	i2c_write_byte
 105:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     i2c_read_byte(MAX44009_ADDRESS, &is_present);
 230              		.loc 1 105 0
 231 00e6 FB1D     		adds	r3, r7, #7
 232 00e8 1946     		mov	r1, r3
 233 00ea 4A20     		movs	r0, #74
 234 00ec FFF7FEFF 		bl	i2c_read_byte
 106:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
 107:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     return (is_present == MAX44009_DEFAULT_CONFIGURATION ||
 235              		.loc 1 107 0
 236 00f0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 237 00f2 032B     		cmp	r3, #3
 238 00f4 02D0     		beq	.L12
 108:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****             is_present == MAX44009_USER_CONFIGURATION);
 239              		.loc 1 108 0 discriminator 2
 240 00f6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 107:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****             is_present == MAX44009_USER_CONFIGURATION);
 241              		.loc 1 107 0 discriminator 2
 242 00f8 432B     		cmp	r3, #67
 243 00fa 01D1     		bne	.L13
 244              	.L12:
 107:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****             is_present == MAX44009_USER_CONFIGURATION);
 245              		.loc 1 107 0 is_stmt 0 discriminator 3
 246 00fc 0123     		movs	r3, #1
 247 00fe 00E0     		b	.L14
 248              	.L13:
 107:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****             is_present == MAX44009_USER_CONFIGURATION);
 249              		.loc 1 107 0 discriminator 4
 250 0100 0023     		movs	r3, #0
 251              	.L14:
 107:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****             is_present == MAX44009_USER_CONFIGURATION);
 252              		.loc 1 107 0 discriminator 6
 253 0102 DBB2     		uxtb	r3, r3
 109:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** }
 254              		.loc 1 109 0 is_stmt 1 discriminator 6
 255 0104 1846     		mov	r0, r3
 256 0106 0837     		adds	r7, r7, #8
 257              		.cfi_def_cfa_offset 8
 258 0108 BD46     		mov	sp, r7
 259              		.cfi_def_cfa_register 13
 260              		@ sp needed
 261 010a 80BD     		pop	{r7, pc}
 262              		.cfi_endproc
 263              	.LFE2:
 265              		.align	2
 266              		.global	max44009_read_light
 267              		.thumb
 268              		.thumb_func
 270              	max44009_read_light:
 271              	.LFB3:
 110:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
 111:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** uint16_t max44009_read_light(void) {
 272              		.loc 1 111 0
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 8
 275              		@ frame_needed = 1, uses_anonymous_args = 0
 276 010c 80B5     		push	{r7, lr}
 277              		.cfi_def_cfa_offset 8
 278              		.cfi_offset 7, -8
 279              		.cfi_offset 14, -4
 280 010e 82B0     		sub	sp, sp, #8
 281              		.cfi_def_cfa_offset 16
 282 0110 00AF     		add	r7, sp, #0
 283              		.cfi_def_cfa_register 7
 112:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint8_t exponent, mantissa;
 113:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint8_t max44009_data[2];
 114:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint16_t result;
 115:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
 116:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     i2c_write_byte(MAX44009_ADDRESS, MAX44009_LUX_HIGH_ADDR);
 284              		.loc 1 116 0
 285 0112 0321     		movs	r1, #3
 286 0114 4A20     		movs	r0, #74
 287 0116 FFF7FEFF 		bl	i2c_write_byte
 117:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     i2c_read_byte(MAX44009_ADDRESS, &max44009_data[0]);
 288              		.loc 1 117 0
 289 011a 3B46     		mov	r3, r7
 290 011c 1946     		mov	r1, r3
 291 011e 4A20     		movs	r0, #74
 292 0120 FFF7FEFF 		bl	i2c_read_byte
 118:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     i2c_write_byte(MAX44009_ADDRESS, MAX44009_LUX_LOW_ADDR);
 293              		.loc 1 118 0
 294 0124 0421     		movs	r1, #4
 295 0126 4A20     		movs	r0, #74
 296 0128 FFF7FEFF 		bl	i2c_write_byte
 119:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     i2c_read_byte(MAX44009_ADDRESS, &max44009_data[1]);
 297              		.loc 1 119 0
 298 012c 3B46     		mov	r3, r7
 299 012e 0133     		adds	r3, r3, #1
 300 0130 1946     		mov	r1, r3
 301 0132 4A20     		movs	r0, #74
 302 0134 FFF7FEFF 		bl	i2c_read_byte
 120:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
 121:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     exponent = (( max44009_data[0] >> 4 )  & 0x0F);
 303              		.loc 1 121 0
 304 0138 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 305 013a 1B09     		lsrs	r3, r3, #4
 306 013c FB71     		strb	r3, [r7, #7]
 122:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     mantissa = (( max44009_data[0] & 0x0F ) << 4) | ((max44009_data[1] & 0x0F));
 307              		.loc 1 122 0
 308 013e 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 309 0140 1B01     		lsls	r3, r3, #4
 310 0142 5AB2     		sxtb	r2, r3
 311 0144 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 312 0146 5BB2     		sxtb	r3, r3
 313 0148 03F00F03 		and	r3, r3, #15
 314 014c 5BB2     		sxtb	r3, r3
 315 014e 1343     		orrs	r3, r3, r2
 316 0150 5BB2     		sxtb	r3, r3
 317 0152 BB71     		strb	r3, [r7, #6]
 123:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
 124:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     result = ( (uint16_t) exponent << 8 ) | ( (uint16_t) mantissa << 0);
 318              		.loc 1 124 0
 319 0154 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 320 0156 1B02     		lsls	r3, r3, #8
 321 0158 1AB2     		sxth	r2, r3
 322 015a BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 323 015c 1BB2     		sxth	r3, r3
 324 015e 1343     		orrs	r3, r3, r2
 325 0160 1BB2     		sxth	r3, r3
 326 0162 BB80     		strh	r3, [r7, #4]	@ movhi
 125:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     
 126:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     return result;
 327              		.loc 1 126 0
 328 0164 BB88     		ldrh	r3, [r7, #4]
 127:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** }
 329              		.loc 1 127 0
 330 0166 1846     		mov	r0, r3
 331 0168 0837     		adds	r7, r7, #8
 332              		.cfi_def_cfa_offset 8
 333 016a BD46     		mov	sp, r7
 334              		.cfi_def_cfa_register 13
 335              		@ sp needed
 336 016c 80BD     		pop	{r7, pc}
 337              		.cfi_endproc
 338              	.LFE3:
 340              		.global	__aeabi_i2f
 341              		.global	__aeabi_fmul
 342 016e 00BF     		.align	2
 343              		.global	max44009_convert_light
 344              		.thumb
 345              		.thumb_func
 347              	max44009_convert_light:
 348              	.LFB4:
 128:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
 129:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** float max44009_convert_light(uint16_t lux) {
 349              		.loc 1 129 0
 350              		.cfi_startproc
 351              		@ args = 0, pretend = 0, frame = 16
 352              		@ frame_needed = 1, uses_anonymous_args = 0
 353 0170 80B5     		push	{r7, lr}
 354              		.cfi_def_cfa_offset 8
 355              		.cfi_offset 7, -8
 356              		.cfi_offset 14, -4
 357 0172 84B0     		sub	sp, sp, #16
 358              		.cfi_def_cfa_offset 24
 359 0174 00AF     		add	r7, sp, #0
 360              		.cfi_def_cfa_register 7
 361 0176 0346     		mov	r3, r0
 362 0178 FB80     		strh	r3, [r7, #6]	@ movhi
 130:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     uint8_t exponent, mantissa;
 131:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     float result = 0.045;
 363              		.loc 1 131 0
 364 017a 134B     		ldr	r3, .L22
 365 017c FB60     		str	r3, [r7, #12]	@ float
 132:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
 133:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     exponent = (lux >> 8) & 0xFF;    
 366              		.loc 1 133 0
 367 017e FB88     		ldrh	r3, [r7, #6]
 368 0180 1B0A     		lsrs	r3, r3, #8
 369 0182 9BB2     		uxth	r3, r3
 370 0184 FB72     		strb	r3, [r7, #11]
 134:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     exponent = (exponent == 0x0F ? exponent & 0x0E : exponent);
 371              		.loc 1 134 0
 372 0186 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 373 0188 0F2B     		cmp	r3, #15
 374 018a 04D1     		bne	.L19
 375              		.loc 1 134 0 is_stmt 0 discriminator 1
 376 018c FB7A     		ldrb	r3, [r7, #11]
 377 018e 03F00E03 		and	r3, r3, #14
 378 0192 DBB2     		uxtb	r3, r3
 379 0194 00E0     		b	.L20
 380              	.L19:
 381              		.loc 1 134 0 discriminator 2
 382 0196 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 383              	.L20:
 384              		.loc 1 134 0 discriminator 4
 385 0198 FB72     		strb	r3, [r7, #11]
 135:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** 
 136:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     mantissa = (lux >> 0) & 0xFF;
 386              		.loc 1 136 0 is_stmt 1 discriminator 4
 387 019a FB88     		ldrh	r3, [r7, #6]	@ movhi
 388 019c BB72     		strb	r3, [r7, #10]
 137:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     
 138:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     result *= 2^exponent * mantissa;
 389              		.loc 1 138 0 discriminator 4
 390 019e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 391 01a0 BA7A     		ldrb	r2, [r7, #10]	@ zero_extendqisi2
 392 01a2 02FB03F3 		mul	r3, r2, r3
 393 01a6 83F00203 		eor	r3, r3, #2
 394 01aa 1846     		mov	r0, r3
 395 01ac FFF7FEFF 		bl	__aeabi_i2f
 396 01b0 0346     		mov	r3, r0
 397 01b2 1946     		mov	r1, r3
 398 01b4 F868     		ldr	r0, [r7, #12]	@ float
 399 01b6 FFF7FEFF 		bl	__aeabi_fmul
 400 01ba 0346     		mov	r3, r0
 401 01bc FB60     		str	r3, [r7, #12]	@ float
 139:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     
 140:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c ****     return result;
 402              		.loc 1 140 0 discriminator 4
 403 01be FB68     		ldr	r3, [r7, #12]	@ float
 141:build/openmote-cc2538_armgcc/bsp/boards/openmote-cc2538/max44009/max44009.c **** }
 404              		.loc 1 141 0 discriminator 4
 405 01c0 1846     		mov	r0, r3
 406 01c2 1037     		adds	r7, r7, #16
 407              		.cfi_def_cfa_offset 8
 408 01c4 BD46     		mov	sp, r7
 409              		.cfi_def_cfa_register 13
 410              		@ sp needed
 411 01c6 80BD     		pop	{r7, pc}
 412              	.L23:
 413              		.align	2
 414              	.L22:
 415 01c8 EC51383D 		.word	1027101164
 416              		.cfi_endproc
 417              	.LFE4:
 419              	.Letext0:
 420              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 421              		.file 3 "/usr/include/newlib/sys/_stdint.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 max44009.c
     /tmp/cccGxPzR.s:20     .rodata:0000000000000000 $d
     /tmp/cccGxPzR.s:35     .text:0000000000000000 $t
     /tmp/cccGxPzR.s:40     .text:0000000000000000 max44009_init
     /tmp/cccGxPzR.s:112    .text:0000000000000064 $d
     /tmp/cccGxPzR.s:126    .text:000000000000006c $t
     /tmp/cccGxPzR.s:131    .text:000000000000006c max44009_reset
     /tmp/cccGxPzR.s:202    .text:00000000000000d0 $d
     /tmp/cccGxPzR.s:207    .text:00000000000000d8 $t
     /tmp/cccGxPzR.s:212    .text:00000000000000d8 max44009_is_present
     /tmp/cccGxPzR.s:270    .text:000000000000010c max44009_read_light
     /tmp/cccGxPzR.s:347    .text:0000000000000170 max44009_convert_light
     /tmp/cccGxPzR.s:415    .text:00000000000001c8 $d
                     .debug_frame:0000000000000010 $d
                           .group:0000000000000000 wm4.0.8e445c0106ab795ab4704214cba6f089
                           .group:0000000000000000 wm4._newlib_version.h.4.ad342815780c8db09778091a421b5b5b
                           .group:0000000000000000 wm4.features.h.33.d97f2d646536517df901beeb5b9993f5
                           .group:0000000000000000 wm4._default_types.h.15.933e8edd27a65e0b69af4a865eb623d2
                           .group:0000000000000000 wm4._intsup.h.10.b82bf99f69d6a5c085fc866de0d3eb9b
                           .group:0000000000000000 wm4._stdint.h.10.7a5f60e6741af4a5594a3867d347e1f9
                           .group:0000000000000000 wm4.stdint.h.23.373a9d32a9e4c2e88fd347156532d281
                           .group:0000000000000000 wm4.i2c.h.15.8e849f5fcf39557ec3e120a857902900

UNDEFINED SYMBOLS
i2c_write_bytes
i2c_write_byte
i2c_read_byte
__aeabi_i2f
__aeabi_fmul
